<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Hexo</title><meta property="og:type" content="blog"><meta property="og:title" content="Hexo"><meta property="og:url" content="http://yoursite.com/"><meta property="og:site_name" content="Hexo"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://yoursite.com/img/og_image.png"><meta property="article:author" content="John Doe"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com"},"headline":"Hexo","image":["http://yoursite.com/img/og_image.png"],"author":{"@type":"Person","name":"John Doe"},"description":""}</script><link rel="icon" href="http://static.come2rss.xyz/%E9%93%81%E7%94%B2%E5%9F%8Elogo.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="http://static.come2rss.xyz/%E9%92%A2%E9%93%81%E4%BE%A0.png" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Ruth-Seven"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/08/07/Code%20tools/Windows/wls2%E6%8A%98%E8%85%BE%E7%AC%94%E8%AE%B0/"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="wls2折腾笔记"></a></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-07T04:56:47.000Z" title="2020-08-07T04:56:47.000Z">2020-08-07</time><span class="level-item"><a class="link-muted" href="/categories/Code-tools/">Code tools</a><span> / </span><a class="link-muted" href="/categories/Code-tools/Windows/">Windows</a></span><span class="level-item">3 minutes read (About 471 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/07/Code%20tools/Windows/wls2%E6%8A%98%E8%85%BE%E7%AC%94%E8%AE%B0/">wls2折腾笔记</a></h1><div class="content"><p><a href="https://docs.microsoft.com/en-us/windows/wsl/about">推荐阅读官方博客</a> 其中对<a href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-index">WSL2介绍</a>。<br>基于 Hyper-V 结构，WSL2大幅改进了上一代WSL在系统层面的的I/O效率，增加了系统调用的全面性，甚至还能支持Docker,唯一遗憾的是网关上做了隔离（？）。</p>
<!-- mroe -->

<h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><p>安装官网博客的配置后，应该已经能够使用WLS2了。快速摘录几条命令。<br>更改Linux distro的WLS的运行版本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wsl --set-version &lt;Distro&gt; 2 #设置为启动WSL2</span><br><span class="line">wsl --set-version &lt;Distro&gt; 1 #设置为启动WSL1</span><br></pre></td></tr></table></figure>

<p>设置默认安装distr的WSL2版本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --set-default-version 2</span><br></pre></td></tr></table></figure>

<p>检查各个distr的WSL版本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --list --verbose #or wsl -l -v</span><br></pre></td></tr></table></figure>

<h2 id="网络连接问题"><a href="#网络连接问题" class="headerlink" title="网络连接问题"></a>网络连接问题</h2><h3 id="Linux连PC"><a href="#Linux连PC" class="headerlink" title="Linux连PC"></a>Linux连PC</h3><p>（In the initial builds of WSL2 preview）从Linux访问Windows中软件需要Linux连接主机的host ip。</p>
<p>获取主机LAN IP方法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat &#x2F;etc&#x2F;resolv.comf</span><br></pre></td></tr></table></figure>

<p>之后就可以使用该IP地址连接到PC的服务器上了。</p>
<h3 id="PC连Linux"><a href="#PC连Linux" class="headerlink" title="PC连Linux"></a>PC连Linux</h3><p>在高于18945版本的WIN10系统可以直接访问Localhost来访问Linux Dis的服务器。对应的低于此版本的WIN10需要获取Linux虚拟机的IP地址。即可由以下命令获取：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip addr | grep  eth0</span><br></pre></td></tr></table></figure>

<h2 id="迁移WSL"><a href="#迁移WSL" class="headerlink" title="迁移WSL"></a>迁移WSL</h2><p>如果你更换了电脑，如何将WSL迁移至新的电脑或windows系统中呢？</p>
<p>在旧电脑或系统中输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --export distro_name file_name.tar</span><br></pre></td></tr></table></figure>

<p>此时wsl系统已经被打包成tar文件，在新的电脑或系统中输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --import distro_name install_location file_name.tar</span><br></pre></td></tr></table></figure>

<p>此时就完成了wsl迁移。如果想删除wsl则执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --unregister distro_name</span><br></pre></td></tr></table></figure>

<p>查询wsl安装情况执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --list</span><br></pre></td></tr></table></figure>
<p>上述命令在windows powershell里执行。</p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/08/07/Code%20tools/VScode/Vscode%E7%AC%94%E8%AE%B0/"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="Vscode笔记"></a></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-07T04:56:13.000Z" title="2020-08-07T04:56:13.000Z">2020-08-07</time><span class="level-item"><a class="link-muted" href="/categories/Code-tools/">Code tools</a><span> / </span><a class="link-muted" href="/categories/Code-tools/VScode/">VScode</a></span><span class="level-item">a few seconds read (About 72 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/07/Code%20tools/VScode/Vscode%E7%AC%94%E8%AE%B0/">Vscode笔记</a></h1><div class="content"><!-- mroe -->



<h1 id="VS-Code-使用笔记"><a href="#VS-Code-使用笔记" class="headerlink" title="VS Code 使用笔记"></a><a href="http://blog.come2rss.xyz/2020/05/07/tools/vs-code/">VS Code 使用笔记</a></h1><h2 id="优秀插件"><a href="#优秀插件" class="headerlink" title="优秀插件"></a>优秀插件</h2><p><code>Code Runne</code>集成大多数语言的运行命令，一键运行。</p>
<blockquote>
<p>在Setting的extension中可以设置<code>Run Code Configuration</code>的Run in Terminal为True，可以方便在终端中输入输出程序</p>
</blockquote>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/08/07/Code%20tools/Pycharm/Pycharm/"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="Pycharm笔记"></a></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-07T04:54:38.000Z" title="2020-08-07T04:54:38.000Z">2020-08-07</time><span class="level-item"><a class="link-muted" href="/categories/Code-tools/">Code tools</a><span> / </span><a class="link-muted" href="/categories/Code-tools/Pycharm/">Pycharm</a></span><span class="level-item">10 minutes read (About 1471 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/07/Code%20tools/Pycharm/Pycharm/">Pycharm笔记</a></h1><div class="content"><p>足够的搜索能力和优秀英文阅读能力才是驾驭一个优秀的IED的不二法宝。</p>
<h2 id="虚拟空间"><a href="#虚拟空间" class="headerlink" title="虚拟空间"></a>虚拟空间</h2><p>血的教训</p>
<ul>
<li><p>不要随便改项目文件的路径，不然可能导致项目的terminal无法使用正确的解释器</p>
<!-- mroe -->
</li>
<li><p>升级包的两种方法：命令升级；Setting中的点击特定package并在新页面中选定特定版本Install即可。</p>
</li>
</ul>
<h2 id="其他工具"><a href="#其他工具" class="headerlink" title="其他工具"></a>其他工具</h2><p>Terminal 可以在setting的tools里调整Terminal的解释器。</p>
<p>Terminal检查解释器和激活虚拟空间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在Terminal中进入文件，并激活</span><br><span class="line">cd .&#x2F;venv&#x2F;Scripts</span><br><span class="line">activate</span><br><span class="line">检查：创建文件test，内容如下</span><br><span class="line">import pip;</span><br><span class="line">print(pip.__file__)</span><br><span class="line">运行后查看路径是否在虚拟环境即可判断</span><br></pre></td></tr></table></figure>



<h2 id="Pycharm快捷键"><a href="#Pycharm快捷键" class="headerlink" title="Pycharm快捷键"></a>Pycharm快捷键</h2><p><a href="https://www.jianshu.com/p/00461341771b">作者：意气相许的许</a></p>
<p><strong>PyCharm3.0默认快捷键</strong></p>
<p><strong>1、编辑（Editing）</strong></p>
<p>Ctrl + Space 基本的代码完成（类、方法、属性）</p>
<p>Ctrl + Alt + Space 快速导入任意类</p>
<p>Ctrl + Shift + Enter 语句完成</p>
<p>Ctrl + P 参数信息（在方法中调用参数）</p>
<p>Ctrl + Q 快速查看文档</p>
<p>Shift + F1 外部文档</p>
<p>Ctrl + 鼠标 简介</p>
<p>Ctrl + F1 显示错误描述或警告信息</p>
<p>Alt + Insert 自动生成代码</p>
<p>Ctrl + O 重新方法</p>
<p>Ctrl + Alt + T 选中</p>
<p>Ctrl + / 行注释</p>
<p>Ctrl + Shift + / 块注释</p>
<p>Ctrl + W 选中增加的代码块</p>
<p>Ctrl + Shift + W 回到之前状态</p>
<p>Ctrl + Shift + ]/[ 选定代码块结束、开始</p>
<p>Alt + Enter 快速修正</p>
<p>Ctrl + Alt + L 代码格式化</p>
<p>Ctrl + Alt + O 优化导入</p>
<p>Ctrl + Alt + I 自动缩进</p>
<p>Tab / Shift + Tab 缩进、不缩进当前行</p>
<p>Ctrl+X/Shift+Delete 剪切当前行或选定的代码块到剪贴板</p>
<p>Ctrl+C/Ctrl+Insert 复制当前行或选定的代码块到剪贴板</p>
<p>Ctrl+V/Shift+Insert 从剪贴板粘贴</p>
<p>Ctrl + Shift + V 从最近的缓冲区粘贴</p>
<p>Ctrl + D 复制选定的区域或行</p>
<p>Ctrl + Y 删除选定的行</p>
<p>Ctrl + Shift + J 添加智能线</p>
<p>Ctrl + Enter 智能线切割</p>
<p>Shift + Enter 另起一行</p>
<p>Ctrl + Shift + U 在选定的区域或代码块间切换</p>
<p>Ctrl + Delete 删除到字符结束</p>
<p>Ctrl + Backspace 删除到字符开始</p>
<p>Ctrl + Numpad+/- 展开折叠代码块</p>
<p>Ctrl + Numpad+ 全部展开</p>
<p>Ctrl + Numpad- 全部折叠</p>
<p>Ctrl + F4 关闭运行的选项卡</p>
<p><strong>2、查找/替换(Search/Replace)</strong></p>
<p>F3 下一个</p>
<p>Shift + F3 前一个</p>
<p>Ctrl + R 替换</p>
<p>Ctrl + Shift + F 全局查找</p>
<p>Ctrl + Shift + R 全局替换</p>
<p><strong>3、运行(Running)</strong></p>
<p>Alt + Shift + F10 运行模式配置</p>
<p>Alt + Shift + F9 调试模式配置</p>
<p>Shift + F10 运行</p>
<p>Shift + F9 调试</p>
<p>Ctrl + Shift + F10 运行编辑器配置</p>
<p>Ctrl + Alt + R 运行manage.py任务</p>
<p><strong>4、调试(Debugging)</strong></p>
<p>F8 跳过</p>
<p>F7 进入</p>
<p>Shift + F8 退出</p>
<p>Alt + F9 运行游标</p>
<p>Alt + F8 验证表达式</p>
<p>Ctrl + Alt + F8 快速验证表达式</p>
<p>F9 恢复程序</p>
<p>Ctrl + F8 断点开关</p>
<p>Ctrl + Shift + F8 查看断点</p>
<p><strong>5、导航(Navigation)</strong></p>
<p>Ctrl + N 跳转到类</p>
<p>Ctrl + Shift + N 跳转到符号</p>
<p>Alt + Right/Left 跳转到下一个、前一个编辑的选项卡</p>
<p>F12 回到先前的工具窗口</p>
<p>Esc 从工具窗口回到编辑窗口</p>
<p>Shift + Esc 隐藏运行的、最近运行的窗口</p>
<p>Ctrl + Shift + F4 关闭主动运行的选项卡</p>
<p>Ctrl + G 查看当前行号、字符号</p>
<p>Ctrl + E 当前文件弹出</p>
<p>Ctrl+Alt+Left/Right 后退、前进</p>
<p>Ctrl+Shift+Backspace 导航到最近编辑区域</p>
<p>Alt + F1 查找当前文件或标识</p>
<p>Ctrl+B / Ctrl+Click 跳转到声明</p>
<p>Ctrl + Alt + B 跳转到实现</p>
<p>Ctrl + Shift + I查看快速定义</p>
<p>Ctrl + Shift + B跳转到类型声明</p>
<p>Ctrl + U跳转到父方法、父类</p>
<p>Alt + Up/Down跳转到上一个、下一个方法</p>
<p>Ctrl + ]/[跳转到代码块结束、开始</p>
<p>Ctrl + F12弹出文件结构</p>
<p>Ctrl + H类型层次结构</p>
<p>Ctrl + Shift + H方法层次结构</p>
<p>Ctrl + Alt + H调用层次结构</p>
<p>F2 / Shift + F2下一条、前一条高亮的错误</p>
<p>F4 / Ctrl + Enter编辑资源、查看资源</p>
<p>Alt + Home显示导航条F11书签开关</p>
<p>Ctrl + Shift + F11书签助记开关</p>
<p>Ctrl + #[0-9]跳转到标识的书签</p>
<p>Shift + F11显示书签</p>
<p><strong>6、搜索相关(Usage Search)</strong></p>
<p>Alt + F7/Ctrl + F7文件中查询用法</p>
<p>Ctrl + Shift + F7文件中用法高亮显示</p>
<p>Ctrl + Alt + F7显示用法</p>
<p><strong>7、重构(Refactoring)</strong></p>
<p>F5复制F6剪切</p>
<p>Alt + Delete安全删除</p>
<p>Shift + F6重命名</p>
<p>Ctrl + F6更改签名</p>
<p>Ctrl + Alt + N内联</p>
<p>Ctrl + Alt + M提取方法</p>
<p>Ctrl + Alt + V提取属性</p>
<p>Ctrl + Alt + F提取字段</p>
<p>Ctrl + Alt + C提取常量</p>
<p>Ctrl + Alt + P提取参数</p>
<p><strong>8、控制VCS/Local History</strong></p>
<p>Ctrl + K提交项目</p>
<p>Ctrl + T更新项目</p>
<p>Alt + Shift + C查看最近的变化</p>
<p>Alt + BackQuote(’)VCS快速弹出</p>
<p><strong>9、模版(Live Templates)</strong></p>
<p>Ctrl + Alt + J当前行使用模版</p>
<p>Ctrl +Ｊ插入模版</p>
<p><strong>10、基本(General)</strong></p>
<p>Alt + #[0-9]打开相应的工具窗口</p>
<p>Ctrl + Alt + Y同步</p>
<p>Ctrl + Shift + F12最大化编辑开关</p>
<p>Alt + Shift + F添加到最喜欢</p>
<p>Alt + Shift + I根据配置检查当前文件</p>
<p>Ctrl + BackQuote(’)快速切换当前计划</p>
<p>Ctrl + Alt + S　打开设置页</p>
<p>Ctrl + Shift + A查找编辑器里所有的动作</p>
<p>Ctrl + Tab在窗口间进行切换</p>
<p><strong>一些常用设置：</strong></p>
<ol>
<li><p>pycharm默认是自动保存的，习惯自己按ctrl + s 的可以进行如下设置：</p>
<ul>
<li>.file -&gt; Setting -&gt; General -&gt; Synchronization -&gt; Save files on frame deactivation 和 Save files automatically if application is idle for .. sec 的勾去掉</li>
</ul>
</li>
<li><p>file -&gt;Setting -&gt; Editor -&gt; Editor Tabs -&gt; Mark modified tabs with asterisk 打上勾</p>
</li>
<li><p>Alt + Enter: 自动添加包</p>
</li>
<li><p>对于常用的快捷键，可以设置为visual studio(eclipse…)一样的：</p>
<p>file -&gt; Setting -&gt; Keymap -&gt; Keymaps -&gt; vuisual studio -&gt; Apply</p>
</li>
<li><p>Pycharm中默认是不能用Ctrl+滚轮改变字体大小的，可以在file -&gt; Setting -&gt;Editor-〉Mouse中设置</p>
</li>
<li><p>要设置Pycharm的字体，要先在file -&gt; Setting -&gt;Editor-〉Editor中选择一种风格并保存，然后才可以改变</p>
</li>
<li><p>在setting中搜索theme可以改变主题，所有配色统一改变</p>
</li>
</ol>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/08/07/Code%20tools/Matlab/Matlab%E7%AC%94%E8%AE%B0/"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="Matlab笔记"></a></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-07T04:53:36.000Z" title="2020-08-07T04:53:36.000Z">2020-08-07</time><span class="level-item"><a class="link-muted" href="/categories/Code-tools/">Code tools</a><span> / </span><a class="link-muted" href="/categories/Code-tools/Matlab/">Matlab</a></span><span class="level-item">38 minutes read (About 5697 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/07/Code%20tools/Matlab/Matlab%E7%AC%94%E8%AE%B0/">Matlab笔记</a></h1><div class="content"><p>待学习的内容 <a href="https://blog.csdn.net/wangcj625/article/details/6287735">绘图大量的笔记</a></p>
<h1 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h1><p><code>disp(Var)</code> 打印很方便</p>
<!-- mroe -->

<h1 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h1><h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;a &#x3D; pi; %pi &#x3D; pai </span><br><span class="line">&gt;&gt; disp(sprintf(&#39;2 decimals: %0.6f&#39;, a)) %字符串拼接和显示</span><br><span class="line">2 decimals: 3.141593</span><br></pre></td></tr></table></figure>

<p>:happy:</p>
<p>:kissing_heart:</p>
<p>:carousel_horse:</p>
<h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a><strong>矩阵</strong></h2><p><strong>创建</strong></p>
<p>逗号和分号的运算起了标志行的作用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; v &#x3D; [1 2 3]</span><br><span class="line">v &#x3D;</span><br><span class="line"></span><br><span class="line">     1     2     3</span><br><span class="line"></span><br><span class="line">&gt;&gt; v  &#x3D; [1 ; 2; 3;]</span><br><span class="line">v &#x3D;</span><br><span class="line"></span><br><span class="line">     1</span><br><span class="line">     2</span><br><span class="line">     3</span><br><span class="line">&gt;&gt; v &#x3D; 1:0.1:2</span><br><span class="line">v &#x3D;</span><br><span class="line"></span><br><span class="line">    1.0000    1.1000    1.2000    1.3000    1.4000    1.5000    1.6000    1.7000    1.8000    1.9000    2.0000</span><br></pre></td></tr></table></figure>

<p><strong>常见函数：</strong></p>
<p><code>ones(shape)</code> <code>zeroe(shape)</code> <code>rand(shape)</code> <code>randi(shape)</code> % shape 代表数字列， 如2，3，5，1。</p>
<p><code>randn(shape)</code> %正态分布的随机数 Gussses rand?</p>
<p><code>eye(K)</code> % 单位矩阵</p>
<p><strong>矩阵运算：</strong></p>
<p>常见的有矩阵乘法和矩阵点乘，点除，点方。</p>
<p>matlab不主持类似python的numpy的广播机制，但是仍然支持数字 + 矩阵的模式，同时 不同维度的矩阵无法相加减。</p>
<p><strong>广播</strong></p>
<p>只要阵列具有“兼容大小”，就允许在阵列之间进行上述二进制操作。当一个数组中的每个维度正好等于另一个数组中的相同维度，或者等于<code>1</code>时，大小被认为是“兼容的”。比如。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; magic(3) + (1:3)</span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     9     3     9</span><br><span class="line">     4     7    10</span><br><span class="line">     5    11     5</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">描述</th>
<th align="left">第一个数组大小</th>
<th align="left">第二个数组大小</th>
<th align="left">结果大小</th>
</tr>
</thead>
<tbody><tr>
<td align="left">矢量和标量</td>
<td align="left"><code>[3x1]</code></td>
<td align="left"><code>[1x1]</code></td>
<td align="left"><code>[3x1]</code></td>
</tr>
<tr>
<td align="left">行和列向量</td>
<td align="left"><code>[1x3]</code></td>
<td align="left"><code>[2x1]</code></td>
<td align="left"><code>[2x3]</code></td>
</tr>
<tr>
<td align="left">矢量和二维矩阵</td>
<td align="left"><code>[1x3]</code></td>
<td align="left"><code>[5x3]</code></td>
<td align="left"><code>[5x3]</code></td>
</tr>
<tr>
<td align="left">ND和KD阵列</td>
<td align="left"><code>[1x3x3]</code></td>
<td align="left"><code>[5x3x1x4x2]</code></td>
<td align="left"><code>[5x3x3x4x2]</code></td>
</tr>
</tbody></table>
<p><strong>复制扩展</strong></p>
<p><code>repmat( A , m , n )</code> : 将向量／矩阵在垂直方向复制为m倍，在水平方向复制为n倍。</p>
<p><strong>求和以及其他函数</strong></p>
<p>引出一个matlab与python极为类似的但略有不同的概念，<code>axis</code>。常常在函数计算中起到指定运算方向的作用，如axis=1，则计算沿着竖直方向计算。</p>
<p>如<code>sum(A, axis)</code></p>
<p><a href="http://blog.come2rss.xyz/2020/04/26/tools/windows/matlab-note/matlab-note/1581927781476.png"><img src="http://blog.come2rss.xyz/2020/04/26/tools/windows/matlab-note/matlab-note/1581927781476.png" alt="1581927781476"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/26/tools/windows/matlab-note/matlab-note/1581927781476.png">1581927781476</a></p>
<p>其他函数 如<code>mean()</code> <code>max()</code> 也是如此。</p>
<h2 id="索引以及选择"><a href="#索引以及选择" class="headerlink" title="索引以及选择"></a>索引以及选择</h2><p>matlab的数据索引从1开始。对于矩阵可以使用<code>[C]</code>进行矩阵的数据合并，<code>(C)</code>进行索引。对于cell元胞可以通过<code>{}</code>索引。</p>
<p><strong>Boolean索引</strong> 是一个非常强大的功能，通过逻辑表达式的组合可以删选出复杂的规则条件下的数据。而矩阵的逻辑运算一般都是扩展到各个元素的，这就方便了通过一个条件判断矩阵来索引出真正数据的操作。</p>
<p><strong>下标索引</strong> 拿一维矩阵来举例，常见的操作有 单一索引<code>A(1)</code>, 范围索引<code>A(1:end)</code>, 间隔索引 <code>A(1:2:end)</code> , 向量索引<code>A([1,3,5], :)</code>。如果其他维度的数据需要索引最好把其他维度索引也写上，不管是不是需要全部索引。（这些索引名字 我自己想的~~ ）:kiss: :kiss:</p>
<h2 id="数据管理"><a href="#数据管理" class="headerlink" title="数据管理"></a>数据管理</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; length(A) % give the longest dimension.</span><br><span class="line">&gt;&gt; who % 查看变量</span><br><span class="line">您的变量为:</span><br><span class="line"></span><br><span class="line">A    I    a    ans  c    v    w    </span><br><span class="line">&gt;&gt; whos % 查看变量</span><br><span class="line">  Name      Size                   Bytes  Class     Attributes</span><br><span class="line">  A         2x3                       48  double             </span><br><span class="line">  I         4x4                      128  double            </span><br><span class="line"></span><br><span class="line">%保存</span><br><span class="line">&gt;&gt; save  test 		% 保存所有变量 当然也可以用laod 载入mat</span><br><span class="line">&gt;&gt; save test2.mat Y % 保存单个变量</span><br><span class="line">&gt;&gt; save test2.txt Y -ascii % save as test(ASCII)</span><br></pre></td></tr></table></figure>

<h2 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br></pre></td><td class="code"><pre><span class="line">% 乘法</span><br><span class="line">&gt;&gt; A &#x3D; [1 2 ; 3 4 ; 5 6];</span><br><span class="line">&gt;&gt; B &#x3D; [2 3 ; 4 5];</span><br><span class="line">&gt;&gt; c &#x3D; A * B </span><br><span class="line"></span><br><span class="line">c &#x3D;</span><br><span class="line"></span><br><span class="line">    10    13</span><br><span class="line">    22    29</span><br><span class="line">    34    45</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">% element-wise operation</span><br><span class="line">% 一个3*1的矩阵和一个3*2的矩阵相乘类似于两个3 * 2的矩阵element-wise乘， 但是只要一个矩阵不是n*1或是1*n，或者两个矩阵维度不一样，那么就会无法element-wise乘。</span><br><span class="line">&gt;&gt; D &#x3D; A .* c </span><br><span class="line">D &#x3D;</span><br><span class="line"></span><br><span class="line">    10    26</span><br><span class="line">    66   116</span><br><span class="line">   170   270</span><br><span class="line">   </span><br><span class="line">&gt;&gt; A.^2 % element-wise operation</span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     1     4</span><br><span class="line">     9    16</span><br><span class="line">    25    36</span><br><span class="line">&gt;&gt; 1.&#x2F;A % element-wise operation </span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">    1.0000    0.5000</span><br><span class="line">    0.3333    0.2500</span><br><span class="line">    0.2000    0.1667</span><br><span class="line">&gt;&gt; v &lt; 3 % every element is judged.</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">  1×6 logical 数组</span><br><span class="line"></span><br><span class="line">   1   1   0   0   0   0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">%% such as log(), abs() and exp() is element-wise opetation too.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">%add</span><br><span class="line">&gt;&gt; A + ones(3,2)</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     2     3</span><br><span class="line">     4     5</span><br><span class="line">% 也可直接➕1</span><br><span class="line"></span><br><span class="line">&gt;&gt; A + 1</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     2     3</span><br><span class="line">     4     5</span><br><span class="line">     6     7</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">%transpose</span><br><span class="line">&gt;&gt; A&#39;</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     1     3     5</span><br><span class="line">     2     4     6</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">%max</span><br><span class="line">&gt;&gt; A</span><br><span class="line"></span><br><span class="line">A &#x3D;</span><br><span class="line"></span><br><span class="line">     1     2</span><br><span class="line">     3     4</span><br><span class="line">     5     6</span><br><span class="line">&gt;&gt; max(A) % if A is matrix, output is column-wise</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     5     6</span><br><span class="line">     </span><br><span class="line"></span><br><span class="line">&gt;&gt; [val, idx] &#x3D; max([1     2     3     4     7     6])</span><br><span class="line"></span><br><span class="line">val &#x3D;</span><br><span class="line"></span><br><span class="line">     7</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">idx &#x3D;</span><br><span class="line"></span><br><span class="line">     5</span><br><span class="line">     </span><br><span class="line"></span><br><span class="line">&gt;&gt; max([1     2     3     4     7     6])</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     7</span><br><span class="line">     </span><br><span class="line">&gt;&gt; R1 &#x3D; rand(3) % element-wise max</span><br><span class="line"></span><br><span class="line">R1 &#x3D;</span><br><span class="line"></span><br><span class="line">    0.4873    0.4805    0.8880</span><br><span class="line">    0.6459    0.1431    0.3434</span><br><span class="line">    0.8356    0.6037    0.5764</span><br><span class="line"></span><br><span class="line">&gt;&gt; R2 &#x3D; rand(3)</span><br><span class="line"></span><br><span class="line">R2 &#x3D;</span><br><span class="line"></span><br><span class="line">    0.2988    0.6937    0.2178</span><br><span class="line">    0.3194    0.7549    0.4476</span><br><span class="line">    0.6043    0.2309    0.6584</span><br><span class="line">&gt;&gt; max(R1, R2)</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">    0.4873    0.6937    0.8880</span><br><span class="line">    0.6459    0.7549    0.4476</span><br><span class="line">    0.8356    0.6037    0.6584</span><br><span class="line"></span><br><span class="line">&gt;&gt; max(A, [], 1) % 1 means that get the max column-wise value. </span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     5     6</span><br><span class="line"></span><br><span class="line">&gt;&gt; A</span><br><span class="line"></span><br><span class="line">A &#x3D;</span><br><span class="line"></span><br><span class="line">     1     2</span><br><span class="line">     3     4</span><br><span class="line">     5     6</span><br><span class="line"></span><br><span class="line">&gt;&gt; max(A, [], 2) % 2 is </span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     2</span><br><span class="line">     4</span><br><span class="line">     6</span><br><span class="line"></span><br><span class="line">&gt;&gt; max(A(:))</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     6</span><br><span class="line"></span><br><span class="line">&gt;&gt; max(max(A))</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     6</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">%%find</span><br><span class="line">&gt;&gt; v</span><br><span class="line">v &#x3D; </span><br><span class="line"></span><br><span class="line">     1     2     3     4     5     6</span><br><span class="line"></span><br><span class="line">&gt;&gt; find(v &lt; 3) % to vector</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     1     2</span><br><span class="line">     </span><br><span class="line">&gt;&gt; M &#x3D; magic(3) % to matrix </span><br><span class="line"></span><br><span class="line">M &#x3D;</span><br><span class="line"></span><br><span class="line">     8     1     6</span><br><span class="line">     3     5     7</span><br><span class="line">     4     9     2</span><br><span class="line"></span><br><span class="line">&gt;&gt; find(M &lt; 7) </span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     2</span><br><span class="line">     3</span><br><span class="line">     4</span><br><span class="line">     5</span><br><span class="line">     7</span><br><span class="line">     9</span><br><span class="line"></span><br><span class="line">&gt;&gt; [r, c] &#x3D; find(M &lt; 7) % anther way to get index</span><br><span class="line"></span><br><span class="line">r &#x3D;</span><br><span class="line"></span><br><span class="line">     2</span><br><span class="line">     3</span><br><span class="line">     1</span><br><span class="line">     2</span><br><span class="line">     1</span><br><span class="line">     3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c &#x3D;</span><br><span class="line"></span><br><span class="line">     1</span><br><span class="line">     1</span><br><span class="line">     2</span><br><span class="line">     2</span><br><span class="line">     3</span><br><span class="line">     3</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">% 其他函数</span><br><span class="line">&gt;&gt; a &#x3D; [1, 15, 0.5, 2.5]</span><br><span class="line"></span><br><span class="line">a &#x3D;</span><br><span class="line"></span><br><span class="line">    1.0000   15.0000    0.5000    2.5000</span><br><span class="line"></span><br><span class="line">%sum</span><br><span class="line">&gt;&gt; sum(a)</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">    19</span><br><span class="line"></span><br><span class="line">A &#x3D;</span><br><span class="line"></span><br><span class="line">     1     2</span><br><span class="line">     3     4</span><br><span class="line">     5     6</span><br><span class="line"></span><br><span class="line">&gt;&gt; sum(A,1) % 以列为单位相加</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     9    12</span><br><span class="line"></span><br><span class="line">&gt;&gt; sum(A,2) % 以行为单位相加</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     3</span><br><span class="line">     7</span><br><span class="line">    11</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt; prod(a)%</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">   18.7500</span><br><span class="line"></span><br><span class="line">&gt;&gt; floor(a)</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     1    15     0     2</span><br><span class="line"></span><br><span class="line">&gt;&gt; ceil(a)</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">     1    15     1     3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">%flipud</span><br><span class="line">&gt;&gt; sum(sum( flipud(eye(9)) .* magic(9)) ) %矩阵上下翻转</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">   369</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">% identity matrix</span><br><span class="line">&gt;&gt; M &#x3D; magic(3)</span><br><span class="line"></span><br><span class="line">M &#x3D;</span><br><span class="line"></span><br><span class="line">     8     1     6</span><br><span class="line">     3     5     7</span><br><span class="line">     4     9     2</span><br><span class="line"></span><br><span class="line">&gt;&gt; N &#x3D; pinv(M)</span><br><span class="line"></span><br><span class="line">N &#x3D;</span><br><span class="line"></span><br><span class="line">    0.1472   -0.1444    0.0639</span><br><span class="line">   -0.0611    0.0222    0.1056</span><br><span class="line">   -0.0194    0.1889   -0.1028</span><br><span class="line"></span><br><span class="line">&gt;&gt; N * M</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">    1.0000    0.0000   -0.0000</span><br><span class="line">   -0.0000    1.0000    0.0000</span><br><span class="line">    0.0000   -0.0000    1.0000</span><br></pre></td></tr></table></figure>

<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>字符串本质来说只是带<strong>字符</strong>的向量，可以进行多种类似向量的操作，比如索引、拼接之类。</p>
<h3 id="比较-strcmp"><a href="#比较-strcmp" class="headerlink" title="比较 strcmp"></a>比较 <code>strcmp</code></h3><p><code>tf = strcmp(s1,s2)</code> 比较 <code>s1</code> 和 <code>s2</code>，如果二者相同，则返回 <code>1</code> (<code>true</code>)，否则返回 <code>0</code> (<code>false</code>)。如果文本的大小和内容相同，则它们将视为相等。返回结果 <code>tf</code> 的数据类型为 <code>logical</code>。</p>
<h3 id="格式化-sprintf"><a href="#格式化-sprintf" class="headerlink" title="格式化 sprintf"></a>格式化 <code>sprintf</code></h3><p><code>str = sprintf(formatSpec,A1,...,An)</code> 使用 <code>formatSpec</code> 指定的格式化操作符格式化数组 <code>A1,...,An</code> 中的数据，并在 <code>str</code> 中返回结果文本。<code>sprintf</code> 函数按列顺序格式化 <code>A1,...,An</code> 中的值。如果 <code>formatSpec</code> 是字符串，则输出 <code>str</code> 也是字符串。否则，<code>str</code> 是字符向量。</p>
<p>比如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">formatSpec &#x3D; &#39;The array is %dx%d.&#39;;</span><br><span class="line">A1 &#x3D; 2;</span><br><span class="line">A2 &#x3D; 3;</span><br><span class="line">str &#x3D; sprintf(formatSpec,A1,A2)</span><br></pre></td></tr></table></figure>

<h3 id="打印字符串-fprintf"><a href="#打印字符串-fprintf" class="headerlink" title="打印字符串 fprintf"></a>打印字符串 <code>fprintf</code></h3><p>直接格式化并打印字符串到显示器上，其中格式方式同<code>sprintf</code>。</p>
<h3 id="字符串拼接-三种方法"><a href="#字符串拼接-三种方法" class="headerlink" title="字符串拼接 三种方法"></a>字符串拼接 三种方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">方法一：用中括号将str1和str2像矩阵元素一样包含起来：</span><br><span class="line">&gt;&gt; SC&#x3D;[str1,str2]</span><br><span class="line">方法二：用strcat函数</span><br><span class="line">&gt;&gt; SB&#x3D;strcat(str1,str2) </span><br><span class="line">% 其他用途 &gt;&gt; strcat(&#123;&#39;Red&#39;,&#39;Yellow&#39;&#125;,&#123;&#39;Green&#39;,&#39;Blue&#39;&#125;)</span><br><span class="line">方法三：利用sprintf函数</span><br><span class="line">&gt;&gt; number&#x3D;123;</span><br><span class="line">&gt;&gt; STR&#x3D;sprintf(&#39;%s%d&#39;,str1,number)</span><br></pre></td></tr></table></figure>

<h1 id="画图"><a href="#画图" class="headerlink" title="画图"></a>画图</h1><p>强大的绘图功能是Matlab的特点之一，Matlab提供了一系列的绘图函数，用户不需要过多的考虑绘图的细节，只需要给出一些基本参数就能得到所需图形，这类函数称为高层绘图函数。此外，Matlab还提供了直接对图形句柄进行操作的低层绘图操作。这类操作将图形的每个图形元素（如坐标轴、曲线、文字等）看做一个独立的对象，系统给每个对象分配一个句柄，可以通过句柄对该图形元素进行操作，而不影响其他部分</p>
<h2 id="PLOT"><a href="#PLOT" class="headerlink" title="PLOT"></a><strong>PLOT</strong></h2><ol>
<li>基本用法： 一组向量对</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; plot(t,y);</span><br><span class="line">&gt;&gt; hold on;</span><br><span class="line">&gt;&gt; z &#x3D; pi * cos(t);</span><br><span class="line">&gt;&gt; plot(t,z);</span><br></pre></td></tr></table></figure>

<ol>
<li>多组向量对</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%plot函数可以包含若干组向量对，每一组可以绘制出一条曲线。含多个输入参数的plot函数调用格式为：plot(x1，y1，x2，y2，…，xn，yn)</span><br><span class="line">%如下列命令可以在同一坐标中画出3条曲线。</span><br><span class="line">&gt;&gt; x&#x3D;linspace(0,2*pi,100);</span><br><span class="line">&gt;&gt; plot(x,sin(x),x,2*sin(x),x,3*sin(x))</span><br></pre></td></tr></table></figure>

<ol>
<li><p>当输入参数有矩阵形式时，配对的x,y按对应的列元素为横坐标和纵坐标绘制曲线，曲线条数等于矩阵的列数</p>
</li>
<li><p>绘图选项</p>
</li>
</ol>
<table>
<thead>
<tr>
<th align="left">线型</th>
<th align="left">颜色</th>
<th align="left">标记符号</th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">- 实线</td>
<td align="left">b蓝色</td>
<td align="left">. 点</td>
<td align="left">s 方块</td>
</tr>
<tr>
<td align="left">: 虚线</td>
<td align="left">g绿色</td>
<td align="left">o 圆圈</td>
<td align="left">d 菱形</td>
</tr>
<tr>
<td align="left">-. 点划线</td>
<td align="left">r红色</td>
<td align="left">× 叉号</td>
<td align="left">∨朝下三角符号</td>
</tr>
<tr>
<td align="left">– 双划线</td>
<td align="left">c青色</td>
<td align="left">+ 加号</td>
<td align="left">∧朝上三角符号</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">m品红</td>
<td align="left">* 星号</td>
<td align="left">&lt;朝左三角符号</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">y黄色</td>
<td align="left"></td>
<td align="left">&gt;朝右三角符号</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">k黑色</td>
<td align="left"></td>
<td align="left">p 五角星</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">w白色</td>
<td align="left"></td>
<td align="left">h 六角星</td>
</tr>
</tbody></table>
<ol>
<li><p>坐标控制</p>
<p>想要精密的控制坐标轴的表现，需要下面多条命令的操作。</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xlim([2, 46]);%只设定x轴的绘制范围</span><br><span class="line">ylim([0, 132]);%只设定x轴的绘制范围</span><br><span class="line">set(gca,&#39;XTick&#39;,[2:2:46]) %改变x轴坐标间隔显示 这里间隔为2</span><br><span class="line">%以上就可以对x轴做很好的控制了，y轴类似。</span><br><span class="line"></span><br><span class="line">axis([2,46,0,2]) % axis([xmin,xmax,ymin,ymax])，用这个语句可以对x，y轴的上限与下限绘制范围一起做控制，但是间隔还是要用上面的set来改</span><br></pre></td></tr></table></figure>

<ol>
<li>其他注释</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xlabel(&#39;x name&#39;);% x轴名称</span><br><span class="line">ylabel(&#39;y name&#39;);</span><br><span class="line">legend(&#39;xxx&#39;); %线条注释,多条的话: 	    legend(&#39;xxx&#39;,&#39;xxx2&#39;,&#39;xxx3&#39;）</span><br></pre></td></tr></table></figure>

<ol>
<li>文字注释</li>
</ol>
<p><code>text</code>可以接受向量化的数据输入，从而同时注释多个点的文字。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xt &#x3D; [-2 2];</span><br><span class="line">yt &#x3D; [16 -16];</span><br><span class="line">str &#x3D; &#123;&#39;local max&#39;,&#39;local min&#39;&#125;;</span><br><span class="line">text(xt,yt,str)</span><br></pre></td></tr></table></figure>

<ol>
<li><strong>hold on</strong> 维持画布不变化； <strong>figure</strong> 新开两个figure画板。subplot在同一个窗口上开多个子画板。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; subplot(1,2,1); plot(t,z);</span><br><span class="line">&gt;&gt; subplot(1,2,2); plot(t,y);</span><br><span class="line">&gt;&gt; axis([5 10 0 4]) % X轴范围为[5,10],y轴范围为[0,4];</span><br><span class="line"></span><br><span class="line">&gt;&gt; clf - 清除当前图窗窗口</span><br><span class="line">    此 MATLAB 函数 从当前图窗中删除其句柄未隐藏的所有图形对象（即它们的 HandleVisibility 属性设置为 on）。</span><br></pre></td></tr></table></figure>

<p><a href="http://blog.come2rss.xyz/2020/04/26/tools/windows/matlab-note/matlab-note/1578539038766.png"><img src="http://blog.come2rss.xyz/2020/04/26/tools/windows/matlab-note/matlab-note/1578539038766.png" alt="img"></a></p>
<h2 id="SCATTER"><a href="#SCATTER" class="headerlink" title="SCATTER"></a>SCATTER</h2><p>还是看<a href="https://ww2.mathworks.cn/help/matlab/ref/scatter.html?searchHighlight=scatter#btrj9jn-1-c">官方文档</a></p>
<h2 id="画圆"><a href="#画圆" class="headerlink" title="画圆"></a>画圆</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function [x,y] &#x3D; circle(R,cx,cy,nb_pts)</span><br><span class="line">%%%%%%%%%%%%%%%%%%%</span><br><span class="line">% 画圆函数</span><br><span class="line">%%%%%%%%%%%%%%%%%%%</span><br><span class="line">alpha&#x3D;0:pi&#x2F;nb_pts:2*pi;%角度[0,2*pi]</span><br><span class="line">%R&#x3D;2;%半径</span><br><span class="line">x&#x3D;R*cos(alpha)+cx;</span><br><span class="line">y&#x3D;R*sin(alpha)+cy;</span><br><span class="line">plot(cx,cy,&#39;r+&#39;,x,y);</span><br><span class="line">grid on;</span><br><span class="line">axis equal;</span><br><span class="line"></span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<h2 id="IMAGESC-涂色"><a href="#IMAGESC-涂色" class="headerlink" title="IMAGESC 涂色"></a>IMAGESC 涂色</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; figure(3)</span><br><span class="line">&gt;&gt; imagesc(magic(15)),colorbar, colormap gray</span><br><span class="line">% imagesc 生成一个对应于矩阵数值和数量的‘像素块’图像</span><br></pre></td></tr></table></figure>

<p><a href="http://blog.come2rss.xyz/2020/04/26/tools/windows/matlab-note/matlab-note/1578539625571.png"><img src="http://blog.come2rss.xyz/2020/04/26/tools/windows/matlab-note/matlab-note/1578539625571.png" alt="img"></a></p>
<h1 id="控制语句"><a href="#控制语句" class="headerlink" title="控制语句"></a>控制语句</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">for i &#x3D; 1:10, %这里也可遍历矩阵</span><br><span class="line">w &#x3D; w +  5;</span><br><span class="line">if( i &gt; 5) break;</span><br><span class="line">end;</span><br><span class="line">end;</span><br><span class="line">&gt;&gt; w</span><br><span class="line">w &#x3D;</span><br><span class="line"></span><br><span class="line">    35</span><br><span class="line"></span><br><span class="line">&gt;&gt; if( v &#x3D;&#x3D; 2)</span><br><span class="line">disp(&quot;dsf is the strongest person in the confusing world!&quot;)</span><br><span class="line">else v &#x3D; 0 ;</span><br><span class="line">end;</span><br><span class="line"></span><br><span class="line">v &#x3D;</span><br><span class="line"></span><br><span class="line">     3</span><br></pre></td></tr></table></figure>

<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function [value1, value2] &#x3D; Function_name(par1, par2)</span><br><span class="line">value1 &#x3D; </span><br><span class="line">value2 &#x3D;</span><br></pre></td></tr></table></figure>

<h1 id="其他操作"><a href="#其他操作" class="headerlink" title="其他操作"></a>其他操作</h1><p>typing ctrl-c to quit the running program.</p>
<h1 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h1><h2 id="保存与载入程序数据"><a href="#保存与载入程序数据" class="headerlink" title="保存与载入程序数据"></a>保存与载入程序数据</h2><p>非常使用的两个函数，不过我一般只用来保存临时变量。</p>
<p><code>save(&#39;FILENAME&#39;, &#39;VARIABLES&#39;)</code> <code>load(&#39;FILENAME&#39;, &#39;VARIABLES&#39;)</code> 的括号可以去掉</p>
<h2 id="Excel文件的导入与导出"><a href="#Excel文件的导入与导出" class="headerlink" title="Excel文件的导入与导出"></a>Excel文件的导入与导出</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[num, txt, raw] &#x3D; xlsread(&#39;文件名.xls&#39;,&#39;工作表&#39;, &#39;数据范围&#39;)</span><br><span class="line">status &#x3D; xlswrite(‘filename.xls’, ‘数据’, ‘工作表’, ‘指定区域’)</span><br></pre></td></tr></table></figure>

<h2 id="混合文本读入（目前可用csv）"><a href="#混合文本读入（目前可用csv）" class="headerlink" title="混合文本读入（目前可用csv）"></a>混合文本读入（目前可用csv）</h2><p>一般来说，最难读入是这种文办，数据内容比较复杂，常常带有数字、字符串等内容。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">textscan(fid, &#39;format&#39;, N, &#39;param&#39;, value);</span><br></pre></td></tr></table></figure>

<p>其中，<code>fid</code>为文件句柄；<code>format</code>为读取格式；<code>N</code>表示用该格式读取N次数据；<code>param</code>,<code>value</code>（可选项）指定分隔符和值对。 N其实也是可选项。</p>
<p>注意：使用<code>textscan</code>之前，必须先用<code>fopen</code>打开要读入的文件；函数<code>textread</code>用法类似。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fid&#x3D;fopen(&#39;data6.txt&#39;,&#39;r&#39;);  %打开文件句柄</span><br><span class="line"></span><br><span class="line">C&#x3D;textscan(fid, &#39;%s%s%f32%d8%u%f%f%s%f&#39;);  %按格式读入元胞数组C</span><br><span class="line"></span><br><span class="line">fclose(fid);  %关闭文件句柄</span><br></pre></td></tr></table></figure>

<h1 id="向量化编程"><a href="#向量化编程" class="headerlink" title="向量化编程"></a>向量化编程</h1><p><a href="http://blog.come2rss.xyz/2020/04/26/tools/windows/matlab-note/matlab-note/1578547281323.png"><img src="http://blog.come2rss.xyz/2020/04/26/tools/windows/matlab-note/matlab-note/1578547281323.png" alt="img"></a></p>
<p>可见图中的两个更新公式中，仅有xixi的部分是不同的。把多个xixi座位一个整体，那么就可以得到一个简洁的公式：</p>
<p><a href="http://blog.come2rss.xyz/2020/04/26/tools/windows/matlab-note/matlab-note/1578547400047.png"><img src="http://blog.come2rss.xyz/2020/04/26/tools/windows/matlab-note/matlab-note/1578547400047.png" alt="img"></a></p>
<p>（图中各个符号的维度如图所示）</p>
<h2 id="其他函数"><a href="#其他函数" class="headerlink" title="其他函数"></a>其他函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">%标准差</span><br><span class="line">std</span><br><span class="line">&gt;&gt; help std</span><br><span class="line">std - 标准差</span><br><span class="line"></span><br><span class="line">    此 MATLAB 函数 返回 A 沿大小不等于 1 的第一个数组维度的元素的标准差。 如果 A 是观测值的向量，则标准差为标量。 如果 A</span><br><span class="line">    是一个列为随机变量且行为观测值的矩阵，则 S 是一个包含与每列对应的标准差的行向量。</span><br><span class="line">    </span><br><span class="line">%help</span><br><span class="line">&gt;&gt; help mean</span><br><span class="line">mean - 数组的均值</span><br><span class="line"></span><br><span class="line">    此 MATLAB 函数 返回 A 沿大小不等于 1 的第一个数组维度的元素的均值。</span><br><span class="line"></span><br><span class="line">    M &#x3D; mean(A)</span><br><span class="line">    M &#x3D; mean(A,dim)</span><br><span class="line">    M &#x3D; mean(___,outtype)</span><br><span class="line">    M &#x3D; mean(___,nanflag)</span><br><span class="line"></span><br><span class="line">    另请参阅 median, mode, std, sum, var</span><br><span class="line"></span><br><span class="line">    mean 的参考页</span><br><span class="line">    名为 mean 的其他函数</span><br><span class="line"></span><br><span class="line">&gt;&gt; M &#x3D; magic(5);</span><br><span class="line">&gt;&gt; mean(M,1)</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">    13    13    13    13    13</span><br><span class="line"></span><br><span class="line">&gt;&gt; mean(M,2)</span><br><span class="line"></span><br><span class="line">ans &#x3D;</span><br><span class="line"></span><br><span class="line">    13</span><br><span class="line">    13</span><br><span class="line">    13</span><br><span class="line">    13</span><br><span class="line">    13</span><br></pre></td></tr></table></figure>

<h1 id="高阶操作"><a href="#高阶操作" class="headerlink" title="高阶操作"></a>高阶操作</h1><h2 id="STRING-命令化"><a href="#STRING-命令化" class="headerlink" title="STRING 命令化"></a>STRING 命令化</h2><p>主要应对多个重复但无法向量化处理的操作，比如多个不同长度的数据的绘图任务，不可以直接塞给plot一个矩阵完事，会有多与少数据掺杂进去的。</p>
<p>其实现方式是通过eval执行命令的string。eval函数的功能是将字符串转换为matlab可执行语句。</p>
<p>比如重复执行导入随名次变化的名字的mat文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for i&#x3D;1:100 </span><br><span class="line">	eval([‘load ’ num2str(i) ‘.mat’]) </span><br><span class="line">	</span><br><span class="line">end </span><br><span class="line">% 当然也可以使用 sprintf打印字符串；</span><br></pre></td></tr></table></figure>

<p>Note：string中不能含有<strong>’</strong>，也就是说遇到<strong>’</strong>，需要特殊处理比如，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">% 执行 plot(nii, &#39;LineWidth&#39;, &#39;2&#39;);</span><br><span class="line">eval([&#39;plot(n&#39;,num2str(ii),char(39),&#39;LineWidth&#39;, char(39), &#39;,2&#39;);</span><br></pre></td></tr></table></figure>

<h2 id="像素点级画图"><a href="#像素点级画图" class="headerlink" title="像素点级画图"></a>像素点级画图</h2><p>出自Andrew的第四周编程练习PlotPic。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">function [h, display_array] &#x3D; displayData(X, example_width)</span><br><span class="line">%DISPLAYDATA Display 2D data in a nice grid</span><br><span class="line">%   [h, display_array] &#x3D; DISPLAYDATA(X, example_width) displays 2D data</span><br><span class="line">%   stored in X in a nice grid. It returns the figure handle h and the </span><br><span class="line">%   displayed array if requested.</span><br><span class="line"></span><br><span class="line">% Set example_width automatically if not passed in</span><br><span class="line">if ~exist(&#39;example_width&#39;, &#39;var&#39;) || isempty(example_width) </span><br><span class="line">	example_width &#x3D; round(sqrt(size(X, 2)));</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">% Gray Image</span><br><span class="line">colormap(gray);</span><br><span class="line"></span><br><span class="line">% Compute rows, cols</span><br><span class="line">[m n] &#x3D; size(X);</span><br><span class="line">example_height &#x3D; (n &#x2F; example_width);</span><br><span class="line"></span><br><span class="line">% Compute number of items to display</span><br><span class="line">display_rows &#x3D; floor(sqrt(m));</span><br><span class="line">display_cols &#x3D; ceil(m &#x2F; display_rows);</span><br><span class="line"></span><br><span class="line">% Between images padding</span><br><span class="line">pad &#x3D; 1;</span><br><span class="line"></span><br><span class="line">% Setup blank display</span><br><span class="line">% 画板</span><br><span class="line">display_array &#x3D; - ones(pad + display_rows * (example_height + pad), ...</span><br><span class="line">                       pad + display_cols * (example_width + pad));</span><br><span class="line"></span><br><span class="line">% Copy each example into a patch on the display array</span><br><span class="line">curr_ex &#x3D; 1;</span><br><span class="line">for j &#x3D; 1:display_rows</span><br><span class="line">	for i &#x3D; 1:display_cols</span><br><span class="line">		if curr_ex &gt; m, </span><br><span class="line">			break; </span><br><span class="line">		end</span><br><span class="line">		% Copy the patch</span><br><span class="line">		</span><br><span class="line">		% Get the max value of the patch</span><br><span class="line">        % 格子作画： reshape改变图片像素排列方式</span><br><span class="line">		max_val &#x3D; max(abs(X(curr_ex, :)));</span><br><span class="line">		display_array(pad + (j - 1) * (example_height + pad) + (1:example_height), ...</span><br><span class="line">		              pad + (i - 1) * (example_width + pad) + (1:example_width)) &#x3D; ...</span><br><span class="line">						reshape(X(curr_ex, :), example_height, example_width) &#x2F; max_val;</span><br><span class="line">		curr_ex &#x3D; curr_ex + 1;</span><br><span class="line">	end</span><br><span class="line">	if curr_ex &gt; m, </span><br><span class="line">		break; </span><br><span class="line">	end</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">% Display Image</span><br><span class="line">% 每个元素代表了一个像素点</span><br><span class="line">h &#x3D; imagesc(display_array, [-1 1]);</span><br><span class="line"></span><br><span class="line">% Do not show axis</span><br><span class="line">axis image off</span><br><span class="line"></span><br><span class="line">drawnow;</span><br><span class="line"></span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<h1 id="系统操作"><a href="#系统操作" class="headerlink" title="系统操作"></a>系统操作</h1><p>编辑文件: edit file ： 可同时创建文件</p>
<h2 id="工作路径"><a href="#工作路径" class="headerlink" title="工作路径"></a>工作路径</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">your path here&#39;)&#96;这条语句就可以把此路径加入到matlab工作路径中。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">比如一些基本的 &#96;cd&#96;, &#96;pwd&#96;, &#96;ls&#96;都可以使用。</span><br><span class="line"></span><br><span class="line">​&#96;&#96;&#96;matlab</span><br><span class="line">&gt; &gt; pwd % give the path where works</span><br><span class="line">ans &#x3D;</span><br></pre></td></tr></table></figure>

<p>‘G:\Matlab\bin’<br>​```</p>
<blockquote>
<blockquote>
<p>cd ‘H:\重要文件\在校学习比赛\学习资料\机器学习\机器学习 Andrew’<br>ls</p>
</blockquote>
</blockquote>
<p>Linear Regression with multiple variables.md<br>2 Linear Regression with multiple variables.assets</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br></pre></td><td class="code"><pre><span class="line"># 错误笔记</span><br><span class="line"></span><br><span class="line">$n*1$的矢量相加或相减与一个$1*n$的矢量得到的确实一个$n*n$的矩阵！</span><br><span class="line"></span><br><span class="line">## </span><br><span class="line"></span><br><span class="line"># 快捷键</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">MATLAB 命令栏显示处理的常用命令</span><br><span class="line"></span><br><span class="line">清屏：clc</span><br><span class="line"></span><br><span class="line">紧凑显示格式：format compact</span><br><span class="line"></span><br><span class="line">宽松显示格式：format loose</span><br><span class="line"></span><br><span class="line">数据高精度显示：format longG</span><br><span class="line"></span><br><span class="line">数据低精度显示：format short</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**编辑器窗口（Editor）下的常用快捷键：**</span><br><span class="line">自动对齐程序（整理缩进）-自动整理代码 用鼠标选中代码行，按Ctrl + I</span><br><span class="line">**快速注释**代码段 拖动鼠标选中需要注释的代码行，按Ctrl + R</span><br><span class="line">快速取消注释代码段 拖动鼠标选中已经注释的代码行，按Ctrl + T</span><br><span class="line">撤销改动 Ctrl + Z</span><br><span class="line">取消撤销（撤销过多时使用） Ctrl + Y</span><br><span class="line">多行代码增加缩进（代码段右移） 选中代码段，按   Tab键   或   Ctrl + ]</span><br><span class="line">多行代码减少缩进（代码段左移） 选中代码段，按   Shift+Tab键   或   Ctrl + [</span><br><span class="line">自动补全命令（记不全函数名时使用） 输入函数的前几个字母，再按Tab</span><br><span class="line">查找或替换变量名、函数名 Ctrl + F</span><br><span class="line">关闭当前的程序文本（.m）文件 Ctrl + W</span><br><span class="line">在Editor窗体中**切换**</span><br><span class="line">Ctrl + PageUp&#x2F;PageDown</span><br><span class="line"></span><br><span class="line">Ctrl+PgUp表示编辑器窗口向左切换文件</span><br><span class="line"></span><br><span class="line">Ctrl+PgDn表示编辑器窗口向右切换文件</span><br><span class="line"></span><br><span class="line"> Ediotor\命令行**窗口切换**：ctrl+Tab</span><br><span class="line"></span><br><span class="line">**代码调试常用快捷键：**</span><br><span class="line">运行 F5可保存并直接运行程序</span><br><span class="line">执行选中代码段 F9</span><br><span class="line">单步执行 F10</span><br><span class="line">F11 表示step in，即当遇见子函数时，使用此快捷键，进入函数内部</span><br><span class="line">Shift + F11 表示step out，即使用此快捷键，执行完子函数的剩余程序，并跳出子函数</span><br><span class="line">设置或取消断点的方法有两种</span><br><span class="line">(1) 在要设置断点的行左侧的-处单击；</span><br><span class="line"></span><br><span class="line">(2) 可按F12设置断点。</span><br><span class="line"></span><br><span class="line">直接跳至某行 Ctrl + G， </span><br><span class="line">强制中断程序的运行 Ctrl + C</span><br><span class="line">命令窗口（Command Window）下的常用快捷键与命令：</span><br><span class="line">再现历史命令</span><br><span class="line">上下光标键↑↓   ，在命令窗口中，上下光标键可以调用Matlab最近使用过的历史命令，便于快速重新执行。 如果输入命令的前几个字母，再使用光标键，则只会选择以这些字母开始的命令。 上下箭头寻找此前和此后输入的命令，每次一条。</span><br><span class="line"></span><br><span class="line">快速退出MATLAB Ctrl + Q</span><br><span class="line">清除输入的命令 Esc</span><br><span class="line">将光标处至结尾之间的代码删除 Ctrl + K</span><br><span class="line">what 显示当前工作路径中的所有代码文件</span><br><span class="line">type 代码文件名 显示代码文件的内容</span><br><span class="line">edit 启动编辑器，并新建一个空白文件</span><br><span class="line">edit 代码文件名 打开相应代码文件</span><br><span class="line">whatsnew 列出MATLAB新版本更新的内容</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**切换窗口快捷键：**</span><br><span class="line">Ctrl+0 命令行窗口（Command Window）</span><br><span class="line">Ctrl + Shift + 0 编辑器窗口（Editor）</span><br><span class="line">Ctrl + 1 历史命令窗口（Command History）</span><br><span class="line">Ctrl + 2 当前工作窗口（Current Folder）</span><br><span class="line">Ctrl + 3</span><br><span class="line"></span><br><span class="line">**工作空间（Workspace）**</span><br><span class="line"></span><br><span class="line">初学者要把下面的基本使用规则，牢记于心：</span><br><span class="line"></span><br><span class="line">1. 输入时，标点必须是英文状态下的</span><br><span class="line">2. 大多数情况下，MATLAB对空格不予处理</span><br><span class="line">3. 小括号代表运算级别，中括号用于生成矩阵，大括号用于构成单元数组</span><br><span class="line">4. 分号  ;  的作用：不显示运算结果（抑制输出），但对图形窗口不起作用。分号也用于区分行。</span><br><span class="line">5. 逗号  ,  的作用：函数参数分隔符，也用于区分行，显示运算结果，当然不加标点也显示运算结果</span><br><span class="line">6. 冒号  :  多用于数组</span><br><span class="line">7. 续行号  ...  不能放在等号后面使用，不能放在变量名中间使用，起作用时默认显蓝色</span><br><span class="line">8. 双引号 &#39;string&#39; 是字符串的标识符</span><br><span class="line">9. 感叹号  !  用于调用操作系统运算</span><br><span class="line">10. 百分号  %  是注释符号，对于百分号后面直到行末的语句，matlab跳过执行。另外还可用于代码块注释，即对多行代码一次注释，  格式为：（注意%&#123; 和%&#125;都要单独成行</span><br><span class="line">11. 乘号 * 总是不能省略的，除了表示复数，比如2+3i时可以省略</span><br><span class="line">12. 除号有 &#x2F; 或 \ ，它两个的关系是：a除以b表示为a&#x2F;b，或 b\a</span><br><span class="line">13. 等号 &#x3D; 用于赋值</span><br><span class="line">14. &#x3D;&#x3D; 表示数学意义上的等号</span><br><span class="line"></span><br><span class="line">15. 主窗口（Command Window）里面，输入时，换行用Shift+Enter</span><br><span class="line"></span><br><span class="line">16. 主窗口（Command Window）里面，运行程序，执行命令用Enter</span><br><span class="line"></span><br><span class="line">17. 矩阵中用圆括号表示下标，单元数组（cell）用大括号表示下标</span><br><span class="line"></span><br><span class="line">18. 对变量名的基本要求：区分大小写，不超过63个字符，以字母开头，只能是字母，数字和下划线</span><br><span class="line"></span><br><span class="line">19. clc             clear command（命令窗口中清除所有代码）（清屏），</span><br><span class="line"></span><br><span class="line">        clf              clear figure（清理图形窗口）（并非关闭figure窗口）</span><br><span class="line"></span><br><span class="line">         close         关闭最近的figure窗口</span><br><span class="line"></span><br><span class="line">         close all     关闭所有figure窗口</span><br><span class="line"></span><br><span class="line">         clear          清理工作空间（workspace）中的所有变量</span><br><span class="line"></span><br><span class="line">          clear+变量名     清理工作空间中的指定变量（如果是多个变量，用空格隔开）</span><br><span class="line"></span><br><span class="line">          edit+函数名       查看或编辑源文件</span><br><span class="line"></span><br><span class="line">          who      显示工作空间中的所有变量名（仅展示出变量的名字）</span><br><span class="line"></span><br><span class="line">          whos    显示工作空间中的所有变量名及其属性（大小、字节数、数据类型，等等）</span><br><span class="line"></span><br><span class="line">          which+函数名     证实该函数是否在当前路径</span><br><span class="line"></span><br><span class="line">          what      列出当前路径的所有matlab文件</span><br><span class="line"></span><br><span class="line">          load       加载外部文件</span><br><span class="line"></span><br><span class="line">          save      保存变量到外部文件。如果save后面没有任何东西，则默认将工作空间中的所有变量保存在文件matlab.mat中。</span><br><span class="line"></span><br><span class="line">          save 文件名  指定变量列表——将指定变量保存在文件中（其中文件名不需要用单引号括起来，文件名的 .mat 后缀也可省略）。（具体地，可以执行doc save来查看save如何使用。）  例如：</span><br><span class="line"></span><br><span class="line">          \&gt;&gt;save var2 x y ;  —— 将变量x和y保存在文件var2.mat中。</span><br><span class="line"></span><br><span class="line">          \&gt;&gt;load var2</span><br><span class="line"></span><br><span class="line">          在 save 和 load 命令中，文件名、变量名可以用字符串来表示，这时将 save 和 load 看作函数来调用：（推荐使用这种形式）</span><br><span class="line"></span><br><span class="line">          \&gt;&gt;save( &#39;var2&#39;, &#39;x&#39;, &#39;y&#39; );  % 功能与  save var2 x y ;  相同。</span><br><span class="line"></span><br><span class="line">          \&gt;&gt;s &#x3D; &#39;var2&#39;;</span><br><span class="line"></span><br><span class="line">          \&gt;&gt;load( s ) % 功能与  load var2  相同。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">20. MATLAB的帮助函数：</span><br><span class="line"></span><br><span class="line">          help</span><br><span class="line"></span><br><span class="line">          help+函数名   或   help+函数类名      精确查询</span><br><span class="line"></span><br><span class="line">          helpwin                   打开帮助窗口</span><br><span class="line"></span><br><span class="line">          helpwin+函数名      精确查询</span><br><span class="line"></span><br><span class="line">          helpdesk                 打开帮助窗口</span><br><span class="line"></span><br><span class="line">          doc                          打开帮助窗口</span><br><span class="line"></span><br><span class="line">          doc+函数名             打开帮助窗口， 精确查询 </span><br><span class="line"></span><br><span class="line">          lookfor+关键字        matlab中的谷歌，模糊查询</span><br><span class="line"></span><br><span class="line">21. 函数式M文件的文件名，在MATLAB主窗口下不区分大小写，</span><br><span class="line"></span><br><span class="line">          函数式M文件中，变量都是局部变量</span><br><span class="line"></span><br><span class="line">          脚本式M文件中，变量都是全局变量</span><br><span class="line"></span><br><span class="line">22. MATLAB搜索路径</span><br><span class="line"></span><br><span class="line">          MATLAB通过搜索路径来查找M文件。因此，MATLAB的系统文件、Toolboxes工具箱函数、用户自己编写的M文件等都应该保存在搜索路径中。当用户输入一个标识符（例如Value）时，MATLAB按下列步骤处理：</span><br><span class="line"></span><br><span class="line">          （1）检查 Value 是否为变量</span><br><span class="line"></span><br><span class="line">          （2）检查 Value 是否为内部函数</span><br><span class="line"></span><br><span class="line">          （3）在当前的工作目录下是否存在 Value.m 文件</span><br><span class="line"></span><br><span class="line">          （4）在MATLAB搜索路径中是否存在 Value.m 文件</span><br><span class="line"></span><br><span class="line">          如果在搜索路径中存在多个 Value.m 文件，则只执行第一个 Value.m 文件；如果找不到这一文件，则报错。</span><br><span class="line"></span><br><span class="line">23. eps —— 在MATLAB编程中，对于除法运算，为了避免分母为零的情况出现，将分母的数与eps相加。（直接在命令窗口输入eps，再回车，会返回eps的值——2.2204e-16）。</span><br><span class="line"></span><br><span class="line">准确讲，eps表示数1.0到与它相邻的最大的双精度浮点数。简单记，就是代表一个特别小的数。</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/08/07/Code%20tools/Linux/Linux%E7%AC%94%E8%AE%B0/"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="Linux笔记"></a></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-07T04:52:29.000Z" title="2020-08-07T04:52:29.000Z">2020-08-07</time><span class="level-item"><a class="link-muted" href="/categories/Code-tools/">Code tools</a><span> / </span><a class="link-muted" href="/categories/Code-tools/Linux/">Linux</a></span><span class="level-item">10 minutes read (About 1544 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/07/Code%20tools/Linux/Linux%E7%AC%94%E8%AE%B0/">Linux笔记</a></h1><div class="content"><h1 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h1><p><code>uname -r</code> 查看内核版本</p></div><a class="article-more button is-small size-small" href="/2020/08/07/Code%20tools/Linux/Linux%E7%AC%94%E8%AE%B0/#more">Read More</a></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/08/07/Code%20tools/Linux/ssh%E7%AC%94%E8%AE%B0/"><img class="thumbnail" src="http://static.come2rss.xyz/image-20200504091052190.png" alt="ssh笔记"></a></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-07T04:51:22.000Z" title="2020-08-07T04:51:22.000Z">2020-08-07</time><span class="level-item"><a class="link-muted" href="/categories/Code-tools/">Code tools</a><span> / </span><a class="link-muted" href="/categories/Code-tools/Linux/">Linux</a></span><span class="level-item">9 minutes read (About 1334 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/07/Code%20tools/Linux/ssh%E7%AC%94%E8%AE%B0/">ssh笔记</a></h1><div class="content"><p><a href="https://missing.csail.mit.edu/2020/command-line/">这内容是真的丰富</a></p>
<p>Secure Shell(SSH) 是由 IETF(The Internet Engineering Task Force) 制定的建立在应用层基础上的安全网络协议。它是专为远程登录会话(甚至可以用Windows远程登录Linux服务器进行文件互传)和其他网络服务提供安全性的协议，可有效弥补网络中的漏洞。通过SSH，可以把所有传输的数据进行加密，也能够防止DNS欺骗和IP欺骗。还有一个额外的好处就是传输的数据是经过压缩的，所以可以加快传输的速度。目前已经成为Linux系统的标准配置。</p>
<!-- mroe -->

<h1 id="ssh安全机制"><a href="#ssh安全机制" class="headerlink" title="ssh安全机制"></a>ssh安全机制</h1><p>SSH之所以能够保证安全，原因在于它采用了非对称加密技术(RSA)加密了所有传输的数据。传统的网络服务程序，如FTP、Pop和Telnet其本质上都是不安全的；因为它们在网络上用明文传送数据、用户帐号和用户口令，很容易受到中间人（man-in-the-middle）攻击方式的攻击。就是存在另一个人或者一台机器冒充真正的服务器接收用户传给服务器的数据，然后再冒充用户把数据传给真正的服务器。</p>
<p>但并不是说SSH就是绝对安全的，因为它本身提供两种级别的验证方法：</p>
<p>第一种级别（基于口令的安全验证）：只要你知道自己帐号和口令，就可以登录到远程主机。所有传输的数据都会被加密，但是不能保证你正在连接的服务器就是你想连接的服务器。可能会有别的服务器在冒充真正的服务器，也就是受到“中间人攻击”这种方式的攻击。</p>
<p>第二种级别（基于密钥的安全验证）：你必须为自己创建一对密钥，并把公钥放在需要访问的服务器上。如果你要连接到SSH服务器上，客户端软件就会向服务器发出请求，请求用你的密钥进行安全验证。服务器收到请求之后，先在该服务器上你的主目录下寻找你的公钥，然后把它和你发送过来的公钥进行比较。如果两个密钥一致，服务器就用公钥加密“质询”(challenge)并把它发送给客户端软件。客户端软件收到“质询”之后就可以用你的私钥在本地解密再把它发送给服务器完成登录。与第一种级别相比，第二种级别不仅加密所有传输的数据，也不需要在网络上传送口令，因此安全性更高，可以有效防止中间人攻击。</p>
<p><a href="https://blog.csdn.net/li528405176/article/details/82810342">原文链接</a></p>
<h1 id="ssh基本操作"><a href="#ssh基本操作" class="headerlink" title="ssh基本操作"></a>ssh基本操作</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>查看安装包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -l | grep ssh</span><br></pre></td></tr></table></figure>

<p>安装本地的ssh的服务器和客户端</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openssh-client #连其他人</span><br><span class="line">sudo apt-get install openssh-server #让别人连</span><br></pre></td></tr></table></figure>

<h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><p>启动ssh服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># -e identail to -A select all processe</span><br><span class="line">ps -e | grep ssh #如果有sshd 表示ssh已经启动</span><br><span class="line">#没有则启动ssh</span><br><span class="line">sudo &#x2F;etc&#x2F;init.d&#x2F;ssh start</span><br></pre></td></tr></table></figure>

<p>停止和重启ssh服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo &#x2F;etc&#x2F;init.d&#x2F;ssh stop  #server停止ssh服务 </span><br><span class="line">sudo &#x2F;etc&#x2F;init.d&#x2F;ssh restart  #server重启ssh服务</span><br></pre></td></tr></table></figure>

<h2 id="登陆"><a href="#登陆" class="headerlink" title="登陆"></a>登陆</h2><h3 id="口令登陆"><a href="#口令登陆" class="headerlink" title="口令登陆"></a><strong>口令登陆</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ssh name@ip</span><br><span class="line"></span><br><span class="line">#调用图形界面</span><br><span class="line">ssh -X name@ip</span><br><span class="line"></span><br><span class="line">#如何客户机和服务器的登陆用户名相同可以省略用户名</span><br><span class="line">ssh ip</span><br><span class="line"></span><br><span class="line">#设置端口, 默认22	</span><br><span class="line">ssh -p port name@ip</span><br></pre></td></tr></table></figure>

<p>如果是第一次登陆还需要把服务器的IP加入可信列表。之后输入密码即可登陆</p>
<h3 id="公钥登陆"><a href="#公钥登陆" class="headerlink" title="公钥登陆"></a>公钥登陆</h3><p>本机生成密钥对</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa # -t 表示密钥类型</span><br><span class="line">#密钥生成后存在放 &#x2F;home&#x2F;用户名&#x2F;.ssh,其中私钥为id_rsa, 公钥为 id_rsa.pub</span><br></pre></td></tr></table></figure>

<p>上传密钥到远程主机</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id name@ip</span><br><span class="line">#或者</span><br><span class="line">ssh-copy-id -i .ssh&#x2F;id_ed25519.pub foobar@remote</span><br><span class="line">#再或者</span><br><span class="line">cat .ssh&#x2F;id_ed25519.pub | ssh foobar@remote &#39;cat &gt;&gt; ~&#x2F;.ssh&#x2F;authorized_keys&#39;</span><br></pre></td></tr></table></figure>

<p>之后就可以直接使用ssh登陆而无需输入密码了</p>
<h2 id="退出"><a href="#退出" class="headerlink" title="退出"></a>退出</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br><span class="line">#或者按 Ctrl + D</span><br></pre></td></tr></table></figure>

<h2 id="运行程序"><a href="#运行程序" class="headerlink" title="运行程序"></a>运行程序</h2><p>当我们利用ssh在远程主机上跑程序的时候，只要关闭了终端就会中断ssh连接，然后远程主机上正在跑的程序或者服务就会自动停止运行。我们可以利用 nohup + 需要运行的程序 使运行的程序在切断ssh连接的时候仍然能够继续在远程主机中运行。nohup即no hang up(不挂起)。</p>
<h2 id="Executing-commands"><a href="#Executing-commands" class="headerlink" title="Executing commands"></a>Executing commands</h2><p>An often overlooked feature of ssh is the ability to run commands directly. ssh foobar@server ls will execute ls in the home folder of foobar. It works with pipes, so ssh foobar@server ls | grep PATTERN will grep locally the remote output of ls and ls | ssh foobar@server grep PATTERN will grep remotely the local output of ls</p>
<blockquote>
<p>注意两个命令的区别</p>
</blockquote>
<p><em>参考文章： (基本内容)[<a href="https://blog.csdn.net/li528405176/article/details/82810342]">https://blog.csdn.net/li528405176/article/details/82810342]</a>, (进阶)[<a href="https://blog.csdn.net/pipisorry/article/details/52269785]">https://blog.csdn.net/pipisorry/article/details/52269785]</a></em></p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/08/07/Code%20tools/Windows/WSL%E6%9D%80%E6%AD%BB%E8%BF%9B%E7%A8%8B/"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="WSL杀死进程"></a></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-07T04:50:25.000Z" title="2020-08-07T04:50:25.000Z">2020-08-07</time><span class="level-item"><a class="link-muted" href="/categories/Code-tools/">Code tools</a><span> / </span><a class="link-muted" href="/categories/Code-tools/Windows/">Windows</a></span><span class="level-item">a few seconds read (About 31 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/07/Code%20tools/Windows/WSL%E6%9D%80%E6%AD%BB%E8%BF%9B%E7%A8%8B/">WSL杀死进程</a></h1><div class="content"><p>WLS2的Ubuntu18.04下没有办法直接使用<code>kill -s 9 PID</code>杀死进程，可是神奇的用<code>kill -9 PID</code>代替。</p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/08/07/Code%20tools/Jupyter/jupyter%E7%AC%94%E8%AE%B0/"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="jupyter笔记"></a></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-07T04:48:55.000Z" title="2020-08-07T04:48:55.000Z">2020-08-07</time><span class="level-item"><a class="link-muted" href="/categories/Code-tools/">Code tools</a><span> / </span><a class="link-muted" href="/categories/Code-tools/Jupyter/">Jupyter</a></span><span class="level-item">2 minutes read (About 238 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/07/Code%20tools/Jupyter/jupyter%E7%AC%94%E8%AE%B0/">jupyter笔记</a></h1><div class="content"><h2 id="设置默认工作目录"><a href="#设置默认工作目录" class="headerlink" title="设置默认工作目录"></a>设置默认工作目录</h2><p>Jupyter notebook 只能在打开的工作目录下工作（创建文件，运行代码），所以十分有必要修改默认代码目录。</p>
<!-- mroe -->

<h5 id="在Anaconda-Prompt中生成配置文件"><a href="#在Anaconda-Prompt中生成配置文件" class="headerlink" title="在Anaconda Prompt中生成配置文件"></a>在Anaconda Prompt中生成配置文件</h5><p>打开Anaconda Prompt，输入如下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook --generate-config1</span><br></pre></td></tr></table></figure>



<h5 id="打开配置文件"><a href="#打开配置文件" class="headerlink" title="打开配置文件"></a>打开配置文件</h5><p>根据显示的路径，打开配置文件jupyter_notebook_config.py，全文搜索【notebook_dir】，找到后填入自己的工作路径并保存。（注意：工作路径不能出现中文，否则无法打开Jupyter Notebook）</p>
<p><a href="http://static.come2rss.xyz/image-20200503125317705.png"><img src="http://static.come2rss.xyz/image-20200503125317705.png" alt="image-20200503125317705"></a></p>
<p><a href="http://static.come2rss.xyz/image-20200503125317705.png">image-20200503125317705</a></p>
<h5 id="修改JupyterNotebook快捷方式的目标属性-如果用Prompt也许就不用了"><a href="#修改JupyterNotebook快捷方式的目标属性-如果用Prompt也许就不用了" class="headerlink" title="修改JupyterNotebook快捷方式的目标属性(如果用Prompt也许就不用了)"></a>修改JupyterNotebook快捷方式的目标属性(如果用Prompt也许就不用了)</h5><p>右击JupyterNotebook快捷方式，选择【属性】，删除【目标】属性中的【%USERPROFILE%】，点击【应用】–【确定】。</p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/08/07/Code%20tools/Git/Git%E7%AC%94%E8%AE%B0/"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="Git笔记"></a></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-07T04:47:30.000Z" title="2020-08-07T04:47:30.000Z">2020-08-07</time><span class="level-item"><a class="link-muted" href="/categories/Code-tools/">Code tools</a><span> / </span><a class="link-muted" href="/categories/Code-tools/Git/">Git</a></span><span class="level-item">29 minutes read (About 4380 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/07/Code%20tools/Git/Git%E7%AC%94%E8%AE%B0/">Git笔记</a></h1><div class="content"><!-- mroe -->

<p>基础概念</p>
<p>七个非常非常常用的命令如下图所示。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note//%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.jpg"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note//%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.jpg" alt="img"></a></p>
<h2 id="提交-查看-删除命令"><a href="#提交-查看-删除命令" class="headerlink" title="提交\查看\删除命令"></a>提交\查看\删除命令</h2><p><code>.git</code>文件就是<strong>版本库（</strong>Repository），一般的目录就是<strong>工作区</strong>（Working Directory）</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/%E5%B7%A5%E4%BD%9C%E5%8C%BA%E7%A4%BA%E6%84%8F.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/%E5%B7%A5%E4%BD%9C%E5%8C%BA%E7%A4%BA%E6%84%8F.png" alt="image-20200425184450980"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/%E5%B7%A5%E4%BD%9C%E5%8C%BA%E7%A4%BA%E6%84%8F.png">image-20200425184450980</a></p>
<p><code>git init</code>初始化Git仓库（也不一定必须在空目录下创建Git仓库，选择一个已经有东西的目录也是可以的）</p>
<p><code>git add</code>把多个文件添加到stage; <code>git add fiilename</code>可单独添加文件。<code>git add</code>的工作就是要提交的所有修改放到<strong>暂存区</strong>（Stage）</p>
<p><code>git commit -m &quot;comment it&quot;</code> 次性把暂存区的所有修改提交到分支。（</p>
<p>Note：add之后的修改是不会被commit上去的; 要使用双引号而不是引号。</p>
<p><code>git status</code>查看仓库当前的状态</p>
<blockquote>
<p>Note:一般有三种状态<code>untracked</code>(文件没被添加）,<code>Changes not staged for commit</code>:（修改存没有存放在stage中），<code>Changes to be committed:</code>（修改已经添加到stage但是没有提交）、<code>nothing to commit, working tree clean</code>(全部已提交)；<code>changes</code>中也有几种状态<code>modified</code>,<code>deleted</code>等等。</p>
</blockquote>
<p><code>git diff</code> 查可以查看<strong>工作区和版本库</strong>里面最新版本的区别：<code>git diff HEAD -- readme.txt</code>可指定文件</p>
<p>Note：diff好像是按行比较的， <code>@@ -1,2 +1,7 @@</code>表示变化的开始和结束的行数和变化号（？）<code>git diff --cached</code>针对<strong>暂存区</strong>查看差别。</p>
<p><code>git rm filename</code>可以删除<strong>暂存区和工作区</strong>中的的文件。</p>
<blockquote>
<p>Note: 若有误删，只能使用<code>reset HEAD filename</code>恢复到最新提交的版本，而commited之后的<strong>修改都会丢失</strong>，即存在数据丢失的情况。</p>
</blockquote>
<h2 id="版本控制"><a href="#版本控制" class="headerlink" title="版本控制"></a>版本控制</h2><p><code>git log</code>查看commit的日志；<code>--pretty=oneline</code>参数可简化输出。</p>
<blockquote>
<p>如1094adb7b9b3807259d8cb349e7df1d4d6477073 (HEAD -&gt; master) append GPL</p>
<p><em>1094adb7b9b3807259d8cb349e7df1d4d6477073</em> 是commit id(版本号)</p>
</blockquote>
<p><code>git log --all --graph --decorate</code>: visualizes history as a DAG</p>
<p><code>git reflog</code> 查看使用的每一条commit和reset [ren’e’san’tian]命令，可用来查找从新版本回退的到旧版本之时的新版本的ID号。</p>
<p>首先在Git中，用<code>HEAD</code>表示当前版本，上一个版本就是<code>HEAD^</code>，上上一个版本就是<code>HEAD^^</code>，也可以写成<code>HEAD~DIFF_VERSION_NUMBER</code>。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/head%E6%8C%87%E9%92%88.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/head%E6%8C%87%E9%92%88.png" alt="image-20200425184637910"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/head%E6%8C%87%E9%92%88.png">image-20200425184637910</a></p>
<p><code>git checkout --filename</code>可以丢弃<strong>工作区</strong>的<strong>修改或者<code>rm</code>的删除</strong> （这里很有意思！），这个文件回到最近一次<code>git commit</code>或<code>git add</code>时的状态。</p>
<blockquote>
<p>Note:<code>git checkout -- file</code>没有<code>--</code>，就变成了“切换到另一个分支”的命令；</p>
</blockquote>
<p><code>git checkout</code>其实是用<strong>版本库里的版本替换工作区的版本</strong>，无论工作区是<strong>修改还是删除</strong>，都可以“一键还原”。</p>
<p><code>git reset HEAD filename</code>可以把暂存区的<strong>修改和删除</strong>撤销掉，重新放回工作区。（状态从to be committed 变成了 changes）。用于应对提交了错误代码或者<code>git rm</code>到stage，操作完后再用上述<code>checkout</code>命令改回原来的代码。</p>
<blockquote>
<p>Note：<code>git reset</code>命令既可以回退版本，也可以把暂存区的修改回退到工作区</p>
</blockquote>
<p><code>git reset --hard HEAD</code> 回退到上一个版本。也可以这么写<code>git reset --hard 1022a</code>,这个例子中<code>1022a</code>是所需要回退的版本的ID前几位（长度足够长而不至于重了就行）。</p>
<blockquote>
<p>Note: 如果在没有把已经commit的错误代码推送到远程库中，可在本地版本库中版本回退。</p>
</blockquote>
<p><code>git mergetool</code>: use a fancy tool to help resolve merge conflicts</p>
<p><code>git rebase</code>: rebase set of patches onto a new base</p>
<h1 id="Git学习资源推荐"><a href="#Git学习资源推荐" class="headerlink" title="Git学习资源推荐"></a>Git学习资源推荐</h1><h2 id="Miscellaneous"><a href="#Miscellaneous" class="headerlink" title="Miscellaneous"></a>Miscellaneous</h2><ul>
<li><strong>GUIs</strong>: there are many <a href="https://git-scm.com/downloads/guis">GUI clients</a> out there for Git. We personally don’t use them and use the command-line interface instead.</li>
<li><strong>Shell integration</strong>: it’s super handy to have a Git status as part of your shell prompt (<a href="https://github.com/olivierverdier/zsh-git-prompt">zsh</a>, <a href="https://github.com/magicmonty/bash-git-prompt">bash</a>). Often included in frameworks like <a href="https://github.com/ohmyzsh/ohmyzsh">Oh My Zsh</a>.</li>
<li><strong>Editor integration</strong>: similarly to the above, handy integrations with many features. <a href="https://github.com/tpope/vim-fugitive">fugitive.vim</a> is the standard one for Vim.</li>
<li><strong>Workflows</strong>: we taught you the data model, plus some basic commands; we didn’t tell you what practices to follow when working on big projects (and there are <a href="https://nvie.com/posts/a-successful-git-branching-model/">many</a> <a href="https://www.endoflineblog.com/gitflow-considered-harmful">different</a> <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">approaches</a>).</li>
<li><strong>GitHub</strong>: Git is not GitHub. GitHub has a specific way of contributing code to other projects, called <a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests">pull requests</a>.</li>
<li><strong>Other Git providers</strong>: GitHub is not special: there are many Git repository hosts, like <a href="https://about.gitlab.com/">GitLab</a> and <a href="https://bitbucket.org/">BitBucket</a>.</li>
</ul>
<h2 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h2><ul>
<li><a href="https://git-scm.com/book/en/v2">Pro Git</a> is <strong>highly recommended reading</strong>. Going through Chapters 1–5 should teach you most of what you need to use Git proficiently, now that you understand the data model. The later chapters have some interesting, advanced material.</li>
<li><a href="https://ohshitgit.com/">Oh Shit, Git!?!</a> is a short guide on how to recover from some common Git mistakes.</li>
<li><a href="https://eagain.net/articles/git-for-computer-scientists/">Git for Computer Scientists</a> is a short explanation of Git’s data model, with less pseudocode and more fancy diagrams than these lecture notes.</li>
<li><a href="https://jwiegley.github.io/git-from-the-bottom-up/">Git from the Bottom Up</a> is a detailed explanation of Git’s implementation details beyond just the data model, for the curious.</li>
<li><a href="https://smusamashah.github.io/blog/2017/10/14/explain-git-in-simple-words">How to explain git in simple words</a></li>
<li><a href="https://learngitbranching.js.org/">Learn Git Branching</a> is a browser-based game that teaches you Git.</li>
</ul>
<h1 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h1><p>Github允许使用了HTTP和SSH两种方式使用GIT，设置SSH能免去HTTP的权限和输入密码等限制。</p>
<h2 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h2><p>ssh — Secure Shell 工具是与远程服务器沟通的渠道。我们不仅可以使用 ssh 登录远程服务器，还可以利用 ssh 在不输入 GitHub 账户密码的情况下将 Git 仓库内容推送至 GitHub 远程仓库。</p>
<h3 id="ssh-登录-GitHub"><a href="#ssh-登录-GitHub" class="headerlink" title="ssh 登录 GitHub"></a>ssh 登录 GitHub</h3><p>下面配置与 GitHub 连接的 SSH 密钥（linux）</p>
<ul>
<li><p>在 WSL 下生成 SSH 公钥 — 私钥对，此时生成的 SSH 密钥默认位于 <code>~/.ssh</code> 路径下，公钥为 <code>id_rsa.pub</code>，私钥为 <code>id_rsa</code>：</p>
<blockquote>
<p>windows下的私钥放在个人用户的文件夹下<code>.ssh</code>。</p>
</blockquote>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>打开 ssh-agent 使之在后台运行：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eval &quot;$(ssh-agent -s)&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>将私钥添加到 ssh-agent 之中：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~&#x2F;.ssh&#x2F;id_rsa</span><br></pre></td></tr></table></figure>

<ul>
<li>查看公钥并将之复制到剪贴板：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 查看公钥内容</span><br><span class="line">cat ~&#x2F;.ssh&#x2F;id_rsa.pub</span><br><span class="line"></span><br><span class="line"># 将公钥复制到剪贴板</span><br><span class="line">cat ~&#x2F;.ssh&#x2F;id_rsa.pub | clip.exe</span><br></pre></td></tr></table></figure>

<ul>
<li>将复制好的公钥添加到 GitHub 账户密钥里面[<a href="https://dowww.spencerwoo.com/1.0/2-cli/2-3-others.html#fn2">2]</a></li>
</ul>
<h3 id="测试ssh"><a href="#测试ssh" class="headerlink" title="测试ssh"></a>测试ssh</h3><p><code>ssh -T git@github.com</code>测试ssh是否能连接到github上 <code>ssh -T -p 443 git@ssh.github.com</code>换端口测试</p>
<p>编辑<code>~/.ssh/config</code>文件（没有则创建一个），然后补充下面的代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">Hostname ssh.github.com</span><br><span class="line">Port 443</span><br></pre></td></tr></table></figure>

<h2 id="新建仓库"><a href="#新建仓库" class="headerlink" title="新建仓库"></a><strong>新建仓库</strong></h2><p>远程仓无内容：在本地仓上<strong>新建一个仓库名与远程仓</strong>一样的仓库，记得<code>add\\commit</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:michaelliao&#x2F;learngit.git</span><br><span class="line">#push after commiting your code.</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<p>我们第一次推送<code>master</code>分支时，加上了<code>-u</code>参数，Git不但会把本地的<code>master</code>分支内容推送的远程新的<code>master</code>分支，还会把本地的<code>master</code>分支和远程的<code>master</code>分支关联起来。以后可以使用<code>git push origin master</code>推送最新修改。</p>
<blockquote>
<p><code>git push --set-upstream [origin_source] [origin brance]</code> 也可以把本地分支追踪到远程分支。</p>
</blockquote>
<p>本地仓无内容：（最好）新建一个远程仓，在<code>clone</code>下来，使用<code>$ git clone git@github.com:michaelliao/gitskills.git</code>。如果有多个人协作开发，那么每个人各自从远程克隆一份就可以了。</p>
<p>命令实例：</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;显示remote仓库</span><br><span class="line">git remote -v</span><br><span class="line">&#x2F;&#x2F;添加远程仓库</span><br><span class="line">git remote add &lt;shortname&gt; https:&#x2F;&#x2F;github.com&#x2F;paulboone&#x2F;ticgit</span><br><span class="line">git pull &lt;remote&gt;</span><br><span class="line">git push &lt;remote&gt; &lt;branch&gt;</span><br><span class="line">&#x2F;&#x2F;设置远程仓库上游分支</span><br><span class="line">git push --set-upstream origin master</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="如果远程仓库已经提交过代码"><a href="#如果远程仓库已经提交过代码" class="headerlink" title="如果远程仓库已经提交过代码"></a>如果远程仓库已经提交过代码</h3><p>在本地和远程仓库都提交了至少一次commit之后，无法直接push上去代码，只能先pull下来（我观察）。可使用以下命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line">git  pull origin master </span><br><span class="line"># 允许无相关历史的代码合并</span><br><span class="line">git  pull origin master --allow-unrelated-histories   </span><br><span class="line">&#96;</span><br></pre></td></tr></table></figure>

<h1 id="多人协作"><a href="#多人协作" class="headerlink" title="多人协作"></a>多人协作</h1><p>由于涉及到一些多人操作，所以暂时不学了 等待下一个机会</p>
<p><a href="https://www.liaoxuefeng.com/wiki/896043488029600/900375748016320">廖老师的多人协作</a></p>
<h3 id="一些错误"><a href="#一些错误" class="headerlink" title="一些错误"></a>一些错误</h3><p>win10可能未开启ssh服务， 在powershell中测试并打开, <code>Get-Service ssh-agent</code>可获取openssh服务运行状态，<code>Get-Service -Name ssh-agent | Set-Service -StartupType Manual</code>开启ssh服务。<a href="https://stackoverflow.com/questions/52113738/starting-ssh-agent-on-windows-10-fails-unable-to-start-ssh-agent-service-erro">SO的答案</a></p>
<p><code>ssh -T git@github.com</code>可用于测试ssh秘钥是否连接正常；一定要输入yes不然会一直报错。。。</p>
<h1 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h1><p>传统的工作分支示例:</p>
<p>一人对应一个支线，<strong>每个feature对应一个新支线</strong>。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/%E5%B7%A5%E4%BD%9C%E5%88%86%E6%94%AF.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/%E5%B7%A5%E4%BD%9C%E5%88%86%E6%94%AF.png" alt="image-20200425185348609"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/%E5%B7%A5%E4%BD%9C%E5%88%86%E6%94%AF.png">image-20200425185348609</a></p>
<p>廖雪峰关于GIT分支管理的讲述很清晰，精彩；<a href="https://www.liaoxuefeng.com/wiki/896043488029600/900003767775424">连接如下</a></p>
<p>本质上，每一个所谓的分支都是一个指针，每一个指针指向都是个提交的节点，创建和删除一个新的分支只不过是添加删除了一个指针。而一个新的<strong>提交commit</strong>也不过需要额外再移动一下指针罢了。而<code>HEAD</code>更是一个指向当前工作区的分支的指针。如图</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/master%E5%88%86%E6%94%AF.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/master%E5%88%86%E6%94%AF.png" alt="image-20200425185438219"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/master%E5%88%86%E6%94%AF.png">image-20200425185438219</a></p>
<h2 id="基操"><a href="#基操" class="headerlink" title="基操"></a>基操</h2><p><strong>友情提示</strong>：每次在一个分支做的修改一定要commit之后，再去switch分支,不然出现会出现内容混乱的现象。保存现场参见下文。</p>
<p><code>git brabch</code>列出所有分支，当前分支前面会标一个<code>*</code>号</p>
<p><code>git switch -c dev</code> 创建（<code>-c</code> create）和切换到一个新的分支。相当于</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">创建：</span><br><span class="line">git branch dev </span><br><span class="line">切换：</span><br><span class="line">git checkout dev 或者 git switch dev</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note: <code>git chechout -c dev</code>作用等同。</p>
</blockquote>
<p><code>git branch -d dev</code> (合并完成后，当然不是必须的，只是从工程目的上讲),可以删除<code>dev</code>分支了。<code>git branch -D dev</code> 可删除没有合并的分支，即<strong>强行删除</strong>（<code>-D</code>）。因为该分支没有被合并，如果删除，就会失去修改。</p>
<p><code>git merge dev</code> 把dev分支合并到master（<strong>现在所在的分支</strong>,这里有两个信息，一个是隐含的）分支上。dev的修改就合并到了master上。</p>
<blockquote>
<p>Note：<code>Fast-forward</code>意味着“快进模式”，也就是直接把<code>master</code>指向<code>dev</code>的当前提交，合并速度非常快。但这种模式下，删除分支后，会丢掉分支信息。请使用<code>--no-ff</code>参数，表示禁用<code>Fast forward</code>：</p>
</blockquote>
<h2 id="分支冲突"><a href="#分支冲突" class="headerlink" title="分支冲突"></a>分支冲突</h2><p>分支冲突出现在两个在同一文件下修改相同地方的分支合并之时。（那都得是commit过了）</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/%E5%88%86%E6%94%AF%E5%86%B2%E7%AA%81.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/%E5%88%86%E6%94%AF%E5%86%B2%E7%AA%81.png" alt="image-20200425185901715"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/%E5%88%86%E6%94%AF%E5%86%B2%E7%AA%81.png">image-20200425185901715</a></p>
<p>Git用<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>，<code>=======</code>，<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>标记出不同分支的内容 。修改源文件，解决冲突后，提交过可得；</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81.png" alt="image-20200425185942196"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-note/Git-note/%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81.png">image-20200425185942196</a></p>
<p><code>git log --graph --pretty=oneline --abbrev-commit</code>可以以图形化方式查看提交合并结果；<code>git log</code>本身也能查看结果。</p>
<h2 id="保存现场以及修改BUG"><a href="#保存现场以及修改BUG" class="headerlink" title="保存现场以及修改BUG"></a>保存现场以及修改BUG</h2><p>如果当前任务没有完成，不能commit。则可以把<strong>未被追踪过的文件（即没有被add过）</strong><code>git add</code>（追踪后），使用<code>git stash</code>保存现场。而Git把stash内容存在某个地方了，恢复现场有两个办法：一是用<code>git stash apply</code>恢复，但是恢复后，stash内容并不删除。另一种方式是用<code>git stash pop</code>，恢复的同时把stash内容也删了。</p>
<blockquote>
<p>很像堆栈思想的上下文恢复</p>
</blockquote>
<p><code>git stash list</code>可以查看 git保存的工作现场的内容。</p>
<p><strong>应用：</strong>工作中突然发现在过去的分支就出现一个bug，补救方法如下：<a href="https://www.liaoxuefeng.com/wiki/896043488029600/900388704535136">廖雪峰教程</a></p>
<p>如果不能直接把当前的工作commit掉，只能先<code>stash</code>,在切换分支、开分支、修bug然后commit，merge, 删除分支；如果后来开发的支线也有主线的bug，可以方便的使用`</p>
<p><code>git cherry_pick commit-id</code>可在<strong>当前分支</strong>“<strong>复制</strong>”一次commit-id所修改的内容，他会自动提交一次<strong>commit</strong>。可以方便的解决不同支线相同bug的处理问题。</p>
<h1 id="其他操作"><a href="#其他操作" class="headerlink" title="其他操作"></a>其他操作</h1><h2 id="配置别名"><a href="#配置别名" class="headerlink" title="配置别名"></a>配置别名</h2><p><code>git config --global alias.st status</code>就把<code>git st</code>就等价于<code>git status</code>。实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#花里胡哨的命令！</span><br><span class="line">git config --global alias.lg &quot;log --color --graph --pretty&#x3D;format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit</span><br></pre></td></tr></table></figure>

<p>配置Git的时候，加上<code>--global</code>是针对<strong>当前用户</strong>起作用的，如果不加，那只针对当前的仓库起作用。每个<strong>仓库的Git配置文件</strong>都放在<code>.git/config</code>文件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ cat .git&#x2F;config </span><br><span class="line">[core]</span><br><span class="line">    repositoryformatversion &#x3D; 0</span><br><span class="line">    filemode &#x3D; true</span><br><span class="line">    bare &#x3D; false</span><br><span class="line">    logallrefupdates &#x3D; true</span><br><span class="line">    ignorecase &#x3D; true</span><br><span class="line">    precomposeunicode &#x3D; true</span><br><span class="line">[remote &quot;origin&quot;]</span><br><span class="line">    url &#x3D; git@github.com:michaelliao&#x2F;learngit.git</span><br><span class="line">    fetch &#x3D; +refs&#x2F;heads&#x2F;*:refs&#x2F;remotes&#x2F;origin&#x2F;*</span><br><span class="line">[branch &quot;master&quot;]</span><br><span class="line">    remote &#x3D; origin</span><br><span class="line">    merge &#x3D; refs&#x2F;heads&#x2F;master</span><br><span class="line">[alias]</span><br><span class="line">    last &#x3D; log -1</span><br></pre></td></tr></table></figure>

<p>别名就在<code>[alias]</code>后面，要删除别名，直接把对应的行删掉即可。</p>
<p>而当前用户的Git配置文件放在用户主目录下的一个隐藏文件<code>.gitconfig</code>中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ cat .gitconfig</span><br><span class="line">[alias]</span><br><span class="line">    co &#x3D; checkout</span><br><span class="line">    ci &#x3D; commit</span><br><span class="line">    br &#x3D; branch</span><br><span class="line">    st &#x3D; status</span><br><span class="line">[user]</span><br><span class="line">    name &#x3D; Your Name</span><br><span class="line">    email &#x3D; your@email.com</span><br></pre></td></tr></table></figure>

<h2 id="忽略文件"><a href="#忽略文件" class="headerlink" title="忽略文件"></a>忽略文件</h2><p>忽略特殊文件： 有时必须把某些文件放到Git工作目录中，但又不能提交它们，比如保存了数据库密码的配置文件啦，每次<code>git status</code>都会显示<code>Untracked files ...</code>。解决起来也很简单，在Git工作区的根目录下创建一个特殊的<code>.gitignore</code>文件，然后把要忽略的文件名填进去，Git就会自动忽略这些文件。</p>
<blockquote>
<p>Note:<code>.gitignore</code>文件本身要放到版本库里，并且可以对<code>.gitignore</code>做版本管理；不需要从头写<code>.gitignore</code>文件，GitHub已经为我们准备了各种配置文件，只需要组合一下就可以使用了。所有配置文件可以直接<a href="https://github.com/github/gitignore">在线浏览</a></p>
</blockquote>
<p>编写忽略文件的<strong>原则</strong>是：</p>
<ol>
<li>忽略操作系统自动生成的文件，比如缩略图等；</li>
<li>忽略编译生成的中间文件、可执行文件等，也就是如果一个文件是通过另一个文件自动生成的，那自动生成的文件就没必要放进版本库，比如Java编译产生的<code>.class</code>文件；</li>
<li>忽略你自己的带有敏感信息的配置文件，比如存放口令的配置文件。</li>
</ol>
<p>对被忽略的文件，可以用<code>-f</code><strong>强制</strong>添加到Git：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add -f App.class</span><br></pre></td></tr></table></figure>

<p>可以用<code>git check-ignore</code>命令<strong>检查</strong><code>.gitignore</code>忽略某文件的某行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git check-ignore -v App.class</span><br><span class="line">.gitignore:3:*.class	App.class</span><br></pre></td></tr></table></figure>

<h2 id="git-设置代理"><a href="#git-设置代理" class="headerlink" title="git 设置代理"></a>git 设置代理</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global http.proxy http:&#x2F;&#x2F;proxyUsername:proxyPassword@proxy.server.com:port</span><br></pre></td></tr></table></figure>

<p>例如设置本地无认证的socks5代理，端口1080</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global http.proxy socks5:&#x2F;&#x2F;127.0.0.1:1080</span><br></pre></td></tr></table></figure>

<h2 id="常识"><a href="#常识" class="headerlink" title="常识"></a>常识</h2><p>首先这里再明确一下，所有的版本控制系统，其实只能跟踪文本文件的改动，比如TXT文件，网页，所有的程序代码等等，Git也不例外。版本控制系统可以告诉你每次的改动，比如在第5行加了一个单词“Linux”，在第8行删了一个单词“Windows”。而图片、视频这些二进制文件，虽然也能由版本控制系统管理，但没法跟踪文件的变化，只能把二进制文件每次改动串起来，也就是只知道图片从100KB改成了120KB，但到底改了啥，版本控制系统不知道，也没法知道。所以版本控制是无法追踪WORD之类的二进制文件的。</p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/08/07/Code%20tools/Git/Git%E5%88%86%E6%94%AF%E8%AF%A6%E7%BB%86%E7%AC%94%E8%AE%B0/"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="Git分支详细笔记"></a></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-07T04:46:06.000Z" title="2020-08-07T04:46:06.000Z">2020-08-07</time><span class="level-item"><a class="link-muted" href="/categories/Code-tools/">Code tools</a><span> / </span><a class="link-muted" href="/categories/Code-tools/Git/">Git</a></span><span class="level-item">an hour read (About 9566 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/07/Code%20tools/Git/Git%E5%88%86%E6%94%AF%E8%AF%A6%E7%BB%86%E7%AC%94%E8%AE%B0/">Git分支详细笔记</a></h1><div class="content"><blockquote>
<p>很神奇 很有趣 仔细做了笔记 很有收获</p>
</blockquote>
<h2 id="何谓分支"><a href="#何谓分支" class="headerlink" title="何谓分支"></a>何谓分支</h2><blockquote>
<p>Tips：简而言之 分支都是指向commit的指针，每一个分支都随着commit的提交而向新commit移动</p>
</blockquote>
<!-- mroe -->

<p>Git 保存的不是文件差异或者变化量，而只是一系列文件快照。</p>
<p>在 Git 中提交时，会保存一个提交（commit）对象，该对象包含一个指向暂存内容快照的指针，包含本次提交的作者等相关附属信息，包含零个或多个指向该提交对象的父对象指针：首次提交是没有直接祖先的，普通提交有一个祖先，由两个或多个分支合并产生的提交则有多个祖先。</p>
<p>为直观起见，我们假设在工作目录中有三个文件，准备将它们暂存后提交。暂存操作会对每一个文件计算校验和（即第一章中提到的 SHA-1 哈希字串），然后把当前版本的文件快照保存到 Git 仓库中（Git 使用 blob 类型的对象存储这些快照），并将校验和加入暂存区域：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git add README test.rb LICENSE</span><br><span class="line">$ git commit -m &#39;initial commit of my project&#39;</span><br></pre></td></tr></table></figure>

<p>当使用 <code>git commit</code> 新建一个提交对象前，Git 会先计算每一个子目录（本例中就是项目根目录）的校验和，然后在 Git 仓库中将这些目录保存为树（tree）对象。之后 Git 创建的提交对象，除了包含相关提交信息以外，还包含着指向这个树对象（项目根目录）的指针，如此它就可以在将来需要的时候，重现此次快照的内容了。</p>
<p>现在，Git 仓库中有五个对象：三个表示文件快照内容的 blob 对象；一个记录着目录树内容及其中各个文件对应 blob 对象索引的 tree 对象；以及一个包含指向 tree 对象（根目录）的索引和其他提交信息元数据的 commit 对象。概念上来说，仓库中的各个对象保存的数据和相互关系看起来如图 3-1 所示：</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-commit-%E5%AF%B9%E8%B1%A1.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-commit-%E5%AF%B9%E8%B1%A1.png" alt="image-20200425191333714"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-commit-%E5%AF%B9%E8%B1%A1.png">image-20200425191333714</a></p>
<p> 图 3-1. 单个提交对象在仓库中的数据结构</p>
<p>作些修改后再次提交，那么这次的提交对象会包含一个指向上次提交对象的指针（译注：即下图中的 parent 对象）。两次提交后，仓库历史会变成图 3-2 的样子：</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E5%A4%9A%E4%B8%AA%E6%8F%90%E4%BA%A4%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E7%9A%84%E9%93%BE%E6%8E%A5%E5%85%B3%E7%B3%BB.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E5%A4%9A%E4%B8%AA%E6%8F%90%E4%BA%A4%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E7%9A%84%E9%93%BE%E6%8E%A5%E5%85%B3%E7%B3%BB.png" alt="image-20200425191533650"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E5%A4%9A%E4%B8%AA%E6%8F%90%E4%BA%A4%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E7%9A%84%E9%93%BE%E6%8E%A5%E5%85%B3%E7%B3%BB.png">image-20200425191533650</a></p>
<p> 图 3-2. 多个提交对象之间的链接关系</p>
<p>Git 中的分支，其实本质上仅仅是个指向 commit 对象的可变指针。Git 会使用 master 作为分支的默认名字。在若干次提交后，你其实已经有了一个指向最后一次提交对象的 master 分支，它在每次提交的时候都会自动向前移动。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E5%88%86%E6%94%AF%E5%85%B6%E5%AE%9E%E5%B0%B1%E6%98%AF%E4%BB%8E%E6%9F%90%E4%B8%AA%E6%8F%90%E4%BA%A4%E5%AF%B9%E8%B1%A1%E5%BE%80%E5%9B%9E%E7%9C%8B%E7%9A%84%E5%8E%86%E5%8F%B2.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E5%88%86%E6%94%AF%E5%85%B6%E5%AE%9E%E5%B0%B1%E6%98%AF%E4%BB%8E%E6%9F%90%E4%B8%AA%E6%8F%90%E4%BA%A4%E5%AF%B9%E8%B1%A1%E5%BE%80%E5%9B%9E%E7%9C%8B%E7%9A%84%E5%8E%86%E5%8F%B2.png" alt="image-20200425191623606"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E5%88%86%E6%94%AF%E5%85%B6%E5%AE%9E%E5%B0%B1%E6%98%AF%E4%BB%8E%E6%9F%90%E4%B8%AA%E6%8F%90%E4%BA%A4%E5%AF%B9%E8%B1%A1%E5%BE%80%E5%9B%9E%E7%9C%8B%E7%9A%84%E5%8E%86%E5%8F%B2.png">image-20200425191623606</a></p>
<p> 图 3-3. 分支其实就是从某个提交对象往回看的历史</p>
<h2 id="创建和增长分支"><a href="#创建和增长分支" class="headerlink" title="创建和增长分支"></a>创建和增长分支</h2><p>那么，Git 又是如何创建一个新的分支的呢？答案很简单，创建一个新的分支指针。比如新建一个 testing 分支，可以使用 <code>git branch</code> 命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch testing</span><br></pre></td></tr></table></figure>

<p>这会在当前 commit 对象上新建一个分支指针</p>
<p>其实答案也很简单，它保存着一个名为 HEAD 的特别指针。它指向你正在工作中的本地分支。运行 <code>git branch</code> 命令，仅仅是建立了一个新的分支，但不会自动切换到这个分支中去，所以在这个例子中，我们依然还在 master 分支里工作（参考图 3-5）。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/HEAD-%E6%8C%87%E5%90%91%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E7%9A%84%E5%88%86%E6%94%AF.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/HEAD-%E6%8C%87%E5%90%91%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E7%9A%84%E5%88%86%E6%94%AF.png" alt="image-20200425191947610"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/HEAD-%E6%8C%87%E5%90%91%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E7%9A%84%E5%88%86%E6%94%AF.png">image-20200425191947610</a></p>
<p> 图 3-5. HEAD 指向当前所在的分支</p>
<p>要切换到其他分支，可以执行 <code>git checkout</code> 命令。我们现在转换到新建的 testing 分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout testing</span><br></pre></td></tr></table></figure>

<p>这样 HEAD 就指向了 testing 分支（见图3-6）。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/HEAD-%E5%9C%A8%E4%BD%A0%E8%BD%AC%E6%8D%A2%E5%88%86%E6%94%AF%E6%97%B6%E6%8C%87%E5%90%91%E6%96%B0%E7%9A%84%E5%88%86%E6%94%AF.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/HEAD-%E5%9C%A8%E4%BD%A0%E8%BD%AC%E6%8D%A2%E5%88%86%E6%94%AF%E6%97%B6%E6%8C%87%E5%90%91%E6%96%B0%E7%9A%84%E5%88%86%E6%94%AF.png" alt="image-20200425192041060"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/HEAD-%E5%9C%A8%E4%BD%A0%E8%BD%AC%E6%8D%A2%E5%88%86%E6%94%AF%E6%97%B6%E6%8C%87%E5%90%91%E6%96%B0%E7%9A%84%E5%88%86%E6%94%AF.png">image-20200425192041060</a></p>
<p> 图 3-6. HEAD 在你转换分支时指向新的分支</p>
<p>这样的实现方式会给我们带来什么好处呢？好吧，现在不妨再提交一次：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ vim test.rb</span><br><span class="line">$ git commit -a -m &#39;made a change&#39;</span><br></pre></td></tr></table></figure>

<p>图 3-7 展示了提交后的结果。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E9%9A%8F%E7%9D%80%E5%88%86%E6%94%AF%E4%B8%80%E8%B5%B7%E5%90%91%E5%89%8D%E7%A7%BB%E5%8A%A8.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E9%9A%8F%E7%9D%80%E5%88%86%E6%94%AF%E4%B8%80%E8%B5%B7%E5%90%91%E5%89%8D%E7%A7%BB%E5%8A%A8.png" alt="image-20200425192314264"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E9%9A%8F%E7%9D%80%E5%88%86%E6%94%AF%E4%B8%80%E8%B5%B7%E5%90%91%E5%89%8D%E7%A7%BB%E5%8A%A8.png">image-20200425192314264</a></p>
<p> 图 3-7. 每次提交后 HEAD 随着分支一起向前移动</p>
<p>非常有趣，现在 testing 分支向前移动了一格，而 master 分支仍然指向原先 <code>git checkout</code> 时所在的 commit 对象。现在我们回到 master 分支看看：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br></pre></td></tr></table></figure>

<p>图 3-8 显示了结果。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/HEAD%E5%9C%A8%E4%B8%80%E6%AC%A1-checkout-%E4%B9%8B%E5%90%8E%E7%A7%BB%E5%8A%A8%E5%88%B0%E4%BA%86%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%88%86%E6%94%AF.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/HEAD%E5%9C%A8%E4%B8%80%E6%AC%A1-checkout-%E4%B9%8B%E5%90%8E%E7%A7%BB%E5%8A%A8%E5%88%B0%E4%BA%86%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%88%86%E6%94%AF.png" alt="image-20200425192426649"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/HEAD%E5%9C%A8%E4%B8%80%E6%AC%A1-checkout-%E4%B9%8B%E5%90%8E%E7%A7%BB%E5%8A%A8%E5%88%B0%E4%BA%86%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%88%86%E6%94%AF.png">image-20200425192426649</a></p>
<p> 图 3-8. HEAD 在一次 checkout 之后移动到了另一个分支</p>
<p>这条命令做了<strong>两件事</strong>。它把 HEAD 指针移回到 master 分支，并把工作目录中的文件换成了 master 分支所指向的快照内容。也就是说，现在开始所做的改动，将始于本项目中一个较老的版本。它的主要作用是将 testing 分支里作出的修改暂时取消，这样你就可以向另一个方向进行开发。</p>
<p>我们作些修改后再次提交：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ vim test.rb</span><br><span class="line">$ git commit -a -m &#39;made other changes&#39;</span><br></pre></td></tr></table></figure>

<p>现在我们的项目提交历史产生了分叉（如图 3-9 所示），因为刚才我们创建了一个分支，转换到其中进行了一些工作，然后又回到原来的主分支进行了另外一些工作。这些改变分别孤立在不同的分支里：我们可以在不同分支里反复切换，并在时机成熟时把它们合并到一起。而所有这些工作，仅仅需要 <code>branch</code> 和 <code>checkout</code> 这两条命令就可以完成。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E4%B8%8D%E5%90%8C%E6%B5%81%E5%90%91%E7%9A%84%E5%88%86%E6%94%AF%E5%8E%86%E5%8F%B2.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E4%B8%8D%E5%90%8C%E6%B5%81%E5%90%91%E7%9A%84%E5%88%86%E6%94%AF%E5%8E%86%E5%8F%B2.png" alt="image-20200425192554108"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E4%B8%8D%E5%90%8C%E6%B5%81%E5%90%91%E7%9A%84%E5%88%86%E6%94%AF%E5%8E%86%E5%8F%B2.png">image-20200425192554108</a></p>
<p> 图 3-9. 不同流向的分支历史</p>
<p>由于 Git 中的分支实际上仅是一个包含所指对象校验和（40 个字符长度 SHA-1 字串）的文件，所以创建和销毁一个分支就变得非常廉价。说白了，新建一个分支就是向一个文件写入 41 个字节（外加一个换行符）那么简单，当然也就很快了。</p>
<p>Git 的实现与项目复杂度无关，它永远可以在几毫秒的时间内完成分支的创建和切换。同时，因为每次提交时都记录了祖先信息（译注：即 <code>parent</code> 对象），将来要合并分支时，寻找恰当的合并基础（译注：即共同祖先）的工作其实已经自然而然地摆在那里了，所以实现起来非常容易。Git 鼓励开发者频繁使用分支，正是因为有着这些特性作保障。</p>
<h1 id="分支操作"><a href="#分支操作" class="headerlink" title="分支操作"></a>分支操作</h1><p><code>git branch</code> 命令不仅仅能创建和删除分支，如果不加任何参数，它会给出当前所有分支的清单：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">  iss53</span><br><span class="line">* master</span><br><span class="line">  testing</span><br></pre></td></tr></table></figure>

<p>若要详细查看信息，运行 <code>git branch -v</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -v</span><br><span class="line">  iss53   93b412c fix javascript issue</span><br><span class="line">* master  7a98805 Merge branch &#39;iss53&#39;</span><br><span class="line">  testing 782fd34 add scott to the author list in the readmes</span><br></pre></td></tr></table></figure>

<p>要从该清单中筛选出你已经（或尚未）与当前分支合并的分支，可以用 <code>--merged</code> 和 <code>--no-merged</code> 选项。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git branch --merged</span><br><span class="line">  iss53</span><br><span class="line">* master</span><br><span class="line">$ git branch --no-merged</span><br><span class="line">  testing</span><br></pre></td></tr></table></figure>

<p>一般来说，列表中没有 <code>*</code> 的分支通常都可以用 <code>git branch -d</code> 来删掉。原因很简单，既然已经把它们所包含的工作整合到了其他分支，删掉也不会损失什么。对应的，如果简单地用 <code>git branch -d</code> 删除未合并的分支会提示错误，因为那样做会丢失数据：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d testing</span><br><span class="line">error: The branch &#39;testing&#39; is not fully merged.</span><br><span class="line">If you are sure you want to delete it, run &#39;git branch -D testing&#39;.</span><br></pre></td></tr></table></figure>

<p>不过，如果你确实想要删除该分支上的改动，可以用大写的删除选项 <code>-D</code> 强制执行，就像上面提示信息中给出的那样。</p>
<p><code>git branch -r</code>查看远程分支。</p>
<h1 id="分支例子"><a href="#分支例子" class="headerlink" title="分支例子"></a>分支例子</h1><blockquote>
<p>官方内容写的很好，我进行一些简单的概括，<a href="https://git-scm.com/book/zh/v1/Git-%E5%88%86%E6%94%AF-%E5%88%86%E6%94%AF%E7%9A%84%E6%96%B0%E5%BB%BA%E4%B8%8E%E5%90%88%E5%B9%B6">官方链接</a>（不过廖老师的例子和官方的好像啊 hhh）</p>
</blockquote>
<p><strong>现在让我们来看一个简单的分支与合并的例子，实际工作中大体也会用到这样的工作流程：</strong></p>
<ol>
<li><strong>开发某个网站。</strong></li>
<li><strong>为实现某个新的需求，创建一个分支。</strong></li>
<li><strong>在这个分支上开展工作.。</strong></li>
</ol>
<p>假设此时，你突然接到一个电话说有个很严重的问题需要紧急修补，那么可以按照下面的方式处理：</p>
<ol>
<li>返回到原先已经发布到生产服务器上的分支。</li>
<li>为这次紧急修补建立一个新分支，并在其中修复问题。</li>
<li>通过测试后，回到生产服务器所在的分支，将修补分支合并进来，然后再推送到生产服务器上。</li>
<li>切换到之前实现新需求的分支，继续工作。</li>
</ol>
<h2 id="分支的新建与切换"><a href="#分支的新建与切换" class="headerlink" title="分支的新建与切换"></a><strong>分支的新建与切换</strong></h2><p>首先，我们假设你正在项目中愉快地工作，并且已经提交了几次更新（见图 3-10）。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E4%B8%80%E4%B8%AA%E7%AE%80%E7%9F%AD%E7%9A%84%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E4%B8%80%E4%B8%AA%E7%AE%80%E7%9F%AD%E7%9A%84%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2.png" alt="image-20200425193307440"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E4%B8%80%E4%B8%AA%E7%AE%80%E7%9F%AD%E7%9A%84%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2.png">image-20200425193307440</a></p>
<p> 图 3-10. 一个简短的提交历史</p>
<p>现在，你决定要修补问题追踪系统上的 #53 问题。把新建的分支取名为 iss53。要新建并切换到该分支，运行 <code>git checkout</code> 并加上 <code>-b</code> 参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b iss53</span><br><span class="line">Switched to a new branch &#39;iss53&#39;</span><br></pre></td></tr></table></figure>

<p>这相当于执行下面这两条命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git branch iss53</span><br><span class="line">$ git checkout iss53</span><br></pre></td></tr></table></figure>

<p>图 3-11 示意该命令的执行结果。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E6%96%B0%E5%88%86%E6%94%AF%E7%9A%84%E6%8C%87%E9%92%88.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E6%96%B0%E5%88%86%E6%94%AF%E7%9A%84%E6%8C%87%E9%92%88.png" alt="image-20200425193327729"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E6%96%B0%E5%88%86%E6%94%AF%E7%9A%84%E6%8C%87%E9%92%88.png">image-20200425193327729</a></p>
<p> 图 3-11. 创建了一个新分支的指针</p>
<p>接着你开始尝试修复问题，在提交了若干次更新后，<code>iss53</code> 分支的指针也会随着向前推进，因为它就是当前分支（换句话说，当前的 <code>HEAD</code> 指针正指向 <code>iss53</code>，见图 3-12）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ vim index.html</span><br><span class="line">$ git commit -a -m &#39;added a new footer [issue 53]&#39;</span><br></pre></td></tr></table></figure>

<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/iss53-%E5%88%86%E6%94%AF%E9%9A%8F%E5%B7%A5%E4%BD%9C%E8%BF%9B%E5%B1%95%E5%90%91%E5%89%8D%E6%8E%A8%E8%BF%9B.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/iss53-%E5%88%86%E6%94%AF%E9%9A%8F%E5%B7%A5%E4%BD%9C%E8%BF%9B%E5%B1%95%E5%90%91%E5%89%8D%E6%8E%A8%E8%BF%9B.png" alt="image-20200425193347879"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/iss53-%E5%88%86%E6%94%AF%E9%9A%8F%E5%B7%A5%E4%BD%9C%E8%BF%9B%E5%B1%95%E5%90%91%E5%89%8D%E6%8E%A8%E8%BF%9B.png">image-20200425193347879</a></p>
<p> 图 3-12. iss53 分支随工作进展向前推进</p>
<p>现在你就接到了那个网站问题的紧急电话，需要马上修补。有了 Git ，我们就不需要同时发布这个补丁和 <code>iss53</code> 里作出的修改，也不需要在创建和发布该补丁到服务器之前花费大力气来复原这些修改。唯一需要的仅仅是切换回 <code>master</code> 分支。</p>
<p>不过在此之前，留心你的暂存区或者工作目录里，那些还没有提交的修改，它会和你即将检出的分支产生冲突从而阻止 Git 为你切换分支。<strong>切换分支的时候最好保持一个清洁的工作区域</strong>。目前已经提交了所有的修改，所以接下来可以正常转换到 <code>master</code> 分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">Switched to branch &#39;master&#39;</span><br></pre></td></tr></table></figure>

<p>此时工作目录中的内容和你在解决问题 #53 之前一模一样，你可以集中精力进行紧急修补。这一点值得牢记：Git 会把工作目录的内容恢复为检出某分支时它所指向的那个提交对象的快照。它会自动添加、删除和修改文件以确保目录的内容和你当时提交时完全一样。</p>
<p>接下来，你得进行紧急修补。我们创建一个紧急修补分支 <code>hotfix</code> 来开展工作，直到搞定（见图 3-13）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b hotfix</span><br><span class="line">Switched to a new branch &#39;hotfix&#39;</span><br><span class="line">$ vim index.html</span><br><span class="line">$ git commit -a -m &#39;fixed the broken email address&#39;</span><br><span class="line">[hotfix 3a0874c] fixed the broken email address</span><br><span class="line"> 1 files changed, 1 deletion(-)</span><br></pre></td></tr></table></figure>

<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/hotfix-%E5%88%86%E6%94%AF%E6%98%AF%E4%BB%8E-master-%E5%88%86%E6%94%AF%E6%89%80%E5%9C%A8%E7%82%B9%E5%88%86%E5%8C%96%E5%87%BA%E6%9D%A5%E7%9A%84.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/hotfix-%E5%88%86%E6%94%AF%E6%98%AF%E4%BB%8E-master-%E5%88%86%E6%94%AF%E6%89%80%E5%9C%A8%E7%82%B9%E5%88%86%E5%8C%96%E5%87%BA%E6%9D%A5%E7%9A%84.png" alt="image-20200425193421149"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/hotfix-%E5%88%86%E6%94%AF%E6%98%AF%E4%BB%8E-master-%E5%88%86%E6%94%AF%E6%89%80%E5%9C%A8%E7%82%B9%E5%88%86%E5%8C%96%E5%87%BA%E6%9D%A5%E7%9A%84.png">image-20200425193421149</a></p>
<p> 图 3-13. hotfix 分支是从 master 分支所在点分化出来的</p>
<p>有必要作些测试，确保修补是成功的，然后回到 <code>master</code> 分支并把它合并进来，然后发布到生产服务器。用 <code>git merge</code> 命令来进行合并：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">$ git merge hotfix</span><br><span class="line">Updating f42c576..3a0874c</span><br><span class="line">Fast-forward</span><br><span class="line"> README | 1 -</span><br><span class="line"> 1 file changed, 1 deletion(-)</span><br></pre></td></tr></table></figure>

<p>请注意，合并时出现了“Fast forward”的提示。由于当前 <code>master</code> 分支所在的提交对象是要并入的 <code>hotfix</code>分支的直接上游，Git 只需把 <code>master</code> 分支指针直接右移。换句话说，如果顺着一个分支走下去可以到达另一个分支的话，那么 Git 在合并两者时，只会<strong>简单地把指针右移</strong>，因为这种单线的历史分支不存在任何需要解决的分歧，<strong>所以这种合并过程可以称为快进（Fast forward）。</strong></p>
<p>现在最新的修改已经在当前 <code>master</code> 分支所指向的提交对象中了，可以部署到生产服务器上去了（见图 3-14）。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E5%88%86%E6%94%AF%E6%8C%87%E5%90%91%E5%90%8C%E4%B8%80%E4%BD%8D%E7%BD%AE.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E5%88%86%E6%94%AF%E6%8C%87%E5%90%91%E5%90%8C%E4%B8%80%E4%BD%8D%E7%BD%AE.png" alt="image-20200425193448731"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E5%88%86%E6%94%AF%E6%8C%87%E5%90%91%E5%90%8C%E4%B8%80%E4%BD%8D%E7%BD%AE.png">image-20200425193448731</a></p>
<p> 图 3-14. 合并之后，master 分支和 hotfix 分支指向同一位置。</p>
<p>在那个超级重要的修补发布以后，你想要回到被打扰之前的工作。由于当前 <code>hotfix</code> 分支和 <code>master</code> 都指向相同的提交对象，所以 <code>hotfix</code> 已经完成了历史使命，可以删掉了。使用 <code>git branch</code> 的 <code>-d</code> 选项执行删除操作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d hotfix</span><br><span class="line">Deleted branch hotfix (was 3a0874c).</span><br></pre></td></tr></table></figure>

<p>现在回到之前未完成的 #53 问题修复分支上继续工作（图 3-15）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout iss53</span><br><span class="line">Switched to branch &#39;iss53&#39;</span><br><span class="line">$ vim index.html</span><br><span class="line">$ git commit -a -m &#39;finished the new footer [issue 53]&#39;</span><br><span class="line">[iss53 ad82d7a] finished the new footer [issue 53]</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br></pre></td></tr></table></figure>

<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/iss53-%E5%88%86%E6%94%AF%E5%8F%AF%E4%BB%A5%E4%B8%8D%E5%8F%97%E5%BD%B1%E5%93%8D%E7%BB%A7%E7%BB%AD%E6%8E%A8%E8%BF%9B.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/iss53-%E5%88%86%E6%94%AF%E5%8F%AF%E4%BB%A5%E4%B8%8D%E5%8F%97%E5%BD%B1%E5%93%8D%E7%BB%A7%E7%BB%AD%E6%8E%A8%E8%BF%9B.png" alt="image-20200425193514085"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/iss53-%E5%88%86%E6%94%AF%E5%8F%AF%E4%BB%A5%E4%B8%8D%E5%8F%97%E5%BD%B1%E5%93%8D%E7%BB%A7%E7%BB%AD%E6%8E%A8%E8%BF%9B.png">image-20200425193514085</a></p>
<p> 图 3-15. iss53 分支可以不受影响继续推进。</p>
<p>值得注意的是之前 <code>hotfix</code> 分支的修改内容<strong>尚未</strong>包含到 <code>iss53</code> 中来。如果需要纳入此次修补，可以用 <code>git merge master</code> 把 master 分支合并到 <code>iss53</code>；或者等 <code>iss53</code> 完成之后，再将 <code>iss53</code> 分支中的更新并入 <code>master</code>。</p>
<h2 id="分支的合并"><a href="#分支的合并" class="headerlink" title="分支的合并"></a><strong>分支的合并</strong></h2><p>在问题 #53 相关的工作完成之后，可以合并回 <code>master</code> 分支。实际操作同前面合并 <code>hotfix</code> 分支差不多，只需回到 <code>master</code> 分支，运行 <code>git merge</code> 命令指定要合并进来的分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">$ git merge iss53</span><br><span class="line">Auto-merging README</span><br><span class="line">Merge made by the &#39;recursive&#39; strategy.</span><br><span class="line"> README | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br></pre></td></tr></table></figure>

<p><strong>请注意，这次合并操作的底层实现，并不同于之前 <code>hotfix</code> 的并入方式。因为这次你的开发历史是从更早的地方开始分叉的。由于当前 <code>master</code> 分支所指向的提交对象（C4）并不是 <code>iss53</code> 分支的直接祖先，Git 不得不进行一些额外处理。就此例而言，Git 会用两个分支的末端（C4 和 C5）以及它们的共同祖先（C2）进行一次简单的三方合并计算。图 3-16 用红框标出了 Git 用于合并的三个提交对象：</strong></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E4%B8%BA%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6%E8%87%AA%E5%8A%A8%E8%AF%86%E5%88%AB%E5%87%BA%E6%9C%80%E4%BD%B3%E7%9A%84%E5%90%8C%E6%BA%90%E5%90%88%E5%B9%B6%E7%82%B9.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E4%B8%BA%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6%E8%87%AA%E5%8A%A8%E8%AF%86%E5%88%AB%E5%87%BA%E6%9C%80%E4%BD%B3%E7%9A%84%E5%90%8C%E6%BA%90%E5%90%88%E5%B9%B6%E7%82%B9.png" alt="image-20200425193538900"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E4%B8%BA%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6%E8%87%AA%E5%8A%A8%E8%AF%86%E5%88%AB%E5%87%BA%E6%9C%80%E4%BD%B3%E7%9A%84%E5%90%8C%E6%BA%90%E5%90%88%E5%B9%B6%E7%82%B9.png">image-20200425193538900</a></p>
<p> 图 3-16. Git 为分支合并自动识别出最佳的同源合并点。</p>
<p>这次，Git 没有简单地把分支指针右移，而是对三方合并后的结果重新做一个新的快照，并自动创建一个指向它的提交对象（C6）（见图 3-17）。这个提交<strong>对象比较特殊，它有两个祖先</strong>（C4 和 C5）。</p>
<p>值得一提的是 <strong>Git 可以自己裁决哪个共同祖先才是最佳合并基础</strong>；这和 CVS 或 Subversion（1.5 以后的版本）不同，它们需要开发者手工指定合并基础。所以此特性让 Git 的合并操作比其他系统都要简单不少。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E8%87%AA%E5%8A%A8%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E5%8C%85%E5%90%AB%E4%BA%86%E5%90%88%E5%B9%B6%E7%BB%93%E6%9E%9C%E7%9A%84%E6%8F%90%E4%BA%A4%E5%AF%B9%E8%B1%A1.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E8%87%AA%E5%8A%A8%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E5%8C%85%E5%90%AB%E4%BA%86%E5%90%88%E5%B9%B6%E7%BB%93%E6%9E%9C%E7%9A%84%E6%8F%90%E4%BA%A4%E5%AF%B9%E8%B1%A1.png" alt="image-20200425193934126"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E8%87%AA%E5%8A%A8%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E5%8C%85%E5%90%AB%E4%BA%86%E5%90%88%E5%B9%B6%E7%BB%93%E6%9E%9C%E7%9A%84%E6%8F%90%E4%BA%A4%E5%AF%B9%E8%B1%A1.png">image-20200425193934126</a></p>
<p> 图 3-17. Git 自动创建了一个包含了合并结果的提交对象。</p>
<p>既然之前的工作成果已经合并到 <code>master</code> 了，那么 <code>iss53</code> 也就没用了。你可以就此删除它，并在问题追踪系统里关闭该问题。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d iss53</span><br></pre></td></tr></table></figure>

<h2 id="遇到冲突时的分支合并"><a href="#遇到冲突时的分支合并" class="headerlink" title="遇到冲突时的分支合并"></a><strong>遇到冲突时的分支合并</strong></h2><p>有时候合并操作并不会如此顺利。如果在不同的分支中都修改了同一个文件的同一部分，Git 就无法干净地把两者合到一起（译注：逻辑上说，这种问题只能由人来裁决。）。如果你在解决问题 #53 的过程中修改了 <code>hotfix</code> 中修改的部分，将得到类似下面的结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git merge iss53</span><br><span class="line">Auto-merging index.html</span><br><span class="line">CONFLICT (content): Merge conflict in index.html</span><br><span class="line">Automatic merge failed; fix conflicts and then commit the result.</span><br></pre></td></tr></table></figure>

<p>Git 作了合并，但没有提交，它会停下来等你解决冲突。要看看哪些文件在合并时发生冲突，可以用 <code>git status</code> 查阅：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">You have unmerged paths.</span><br><span class="line">  (fix conflicts and run &quot;git commit&quot;)</span><br><span class="line"></span><br><span class="line">Unmerged paths:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)</span><br><span class="line"></span><br><span class="line">        both modified:      index.html</span><br><span class="line"></span><br><span class="line">no changes added to commit (use &quot;git add&quot; and&#x2F;or &quot;git commit -a&quot;)</span><br></pre></td></tr></table></figure>

<p>任何包含未解决冲突的文件都会以未合并（unmerged）的状态列出。Git 会在有冲突的文件里加入标准的冲突解决标记，可以通过它们来手工定位并解决这些冲突。可以看到此文件包含类似下面这样的部分：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">&lt;div id&#x3D;&quot;footer&quot;&gt;contact : email.support@github.com&lt;&#x2F;div&gt;</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">&lt;div id&#x3D;&quot;footer&quot;&gt;</span><br><span class="line">  please contact us at support@github.com</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; iss53</span><br></pre></td></tr></table></figure>

<p>可以看到 <code>=======</code> 隔开的上半部分，是 <code>HEAD</code>（即 <code>master</code> 分支，在运行 <code>merge</code> 命令时所切换到的分支）中的内容，下半部分是在 <code>iss53</code> 分支中的内容。解决冲突的办法无非是二者选其一或者由你亲自整合到一起。比如你可以通过把这段内容替换为下面这样来解决：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;footer&quot;&gt;</span><br><span class="line">please contact us at email.support@github.com</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>这个解决方案各采纳了两个分支中的一部分内容，而且我还删除了 <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>，<code>=======</code> 和 <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> 这些行。在解决了所有文件里的所有冲突后，运行 <code>git add</code> 将把它们标记为已解决状态（译注<strong>：实际上就是来一次快照保存到暂存区域</strong>。）。因为一旦暂存，就表示冲突已经解决。如果你想用一个有图形界面的工具来解决这些问题，不妨运行 <code>git mergetool</code>，它会调用一个可视化的合并工具并引导你解决所有冲突：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git mergetool</span><br><span class="line"></span><br><span class="line">This message is displayed because &#39;merge.tool&#39; is not configured.</span><br><span class="line">See &#39;git mergetool --tool-help&#39; or &#39;git help config&#39; for more details.</span><br><span class="line">&#39;git mergetool&#39; will now attempt to use one of the following tools:</span><br><span class="line">opendiff kdiff3 tkdiff xxdiff meld tortoisemerge gvimdiff diffuse diffmerge ecmerge p4merge araxis bc3 codecompare vimdiff emerge</span><br><span class="line">Merging:</span><br><span class="line">index.html</span><br><span class="line"></span><br><span class="line">Normal merge conflict for &#39;index.html&#39;:</span><br><span class="line">  &#123;local&#125;: modified file</span><br><span class="line">  &#123;remote&#125;: modified file</span><br><span class="line">Hit return to start merge resolution tool (opendiff):</span><br></pre></td></tr></table></figure>

<p>如果不想用默认的合并工具（Git 为我默认选择了 <code>opendiff</code>，因为我在 Mac 上运行了该命令），你可以在上方”merge tool candidates”里找到可用的合并工具列表，输入你想用的工具名。我们将在第七章讨论怎样改变环境中的默认值。</p>
<p>退出合并工具以后，Git 会询问你合并是否成功。如果回答是，它会为你把相关文件暂存起来，以表明状态为已解决。</p>
<p>再运行一次 <code>git status</code> 来确认所有冲突都已解决：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line">        modified:   index.html</span><br></pre></td></tr></table></figure>

<p>如果觉得满意了，并且确认所有冲突都已解决，也就是进入了暂存区，就可以用 <code>git commit</code> 来完成这次合并提交。提交的记录差不多是这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Merge branch &#39;iss53&#39;</span><br><span class="line"></span><br><span class="line">Conflicts:</span><br><span class="line">  index.html</span><br><span class="line">#</span><br><span class="line"># It looks like you may be committing a merge.</span><br><span class="line"># If this is not correct, please remove the file</span><br><span class="line">#       .git&#x2F;MERGE_HEAD</span><br><span class="line"># and try again.</span><br><span class="line">#</span><br></pre></td></tr></table></figure>

<p>如果想给将来看这次合并的人一些方便，可以修改该信息，提供更多合并细节。比如你都作了哪些改动，以及这么做的原因。有时候裁决冲突的理由并不直接或明显，有必要略加注解。</p>
<h2 id="远程分支"><a href="#远程分支" class="headerlink" title="远程分支"></a>远程分支</h2><p>远程分支（ <em>remote branch</em> ）是对远程仓库中的分支的索引。它们是一些无法移动的本地分支；只有在 Git 进行网络交互时才会更新。远程分支就像是书签，提醒着你上次连接远程仓库时上面各分支的位置。</p>
<p>我们用 (远程仓库名)/(分支名) 这样的形式表示远程分支。比如我们想看看上次同 origin 仓库通讯时 master 分支的样子，就应该查看 origin/master 分支。如果你和同伴一起修复某个问题，但他们先推送了一个 iss53 分支到远程仓库，虽然你可能也有一个本地的 iss53 分支，但指向服务器上最新更新的却应该是 origin/iss53 分支。</p>
<p>可能有点乱，我们不妨举例说明。假设你们团队有个地址为 git.ourcompany.com 的 Git 服务器。如果你从这里克隆，Git 会自动为你将此远程仓库命名为 origin，并下载其中所有的数据，建立一个指向它的 master 分支的指针，在本地命名为 origin/master，但你无法在本地更改其数据。接着，Git 建立一个属于你自己的本地 master 分支，始于 origin 上 master 分支相同的位置，你可以就此开始工作</p>
<p>如果你在本地 master 分支做了些改动，与此同时，其他人向 git.ourcompany.com 推送了他们的更新，那么服务器上的 master 分支就会向前推进，而于此同时，你在本地的提交历史正朝向不同方向发展。不过只要你不和服务器通讯，你的 origin/master 指针仍然保持原位不会移动（见图 3-23）。</p>
<p>可以运行 git fetch origin 来同步远程服务器上的数据到本地。该命令首先找到 origin 是哪个服务器（本例为 git.ourcompany.com），从上面获取你尚未拥有的数据，更新你本地的数据库，然后把 origin/master 的指针移到它最新的位置上（见图 3-24）。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/git-fetch-%E5%91%BD%E4%BB%A4%E4%BC%9A%E6%9B%B4%E6%96%B0-remote-%E7%B4%A2%E5%BC%95.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/git-fetch-%E5%91%BD%E4%BB%A4%E4%BC%9A%E6%9B%B4%E6%96%B0-remote-%E7%B4%A2%E5%BC%95.png" alt="image-20200425194111488"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/git-fetch-%E5%91%BD%E4%BB%A4%E4%BC%9A%E6%9B%B4%E6%96%B0-remote-%E7%B4%A2%E5%BC%95.png">image-20200425194111488</a></p>
<p>图 3-24. git fetch 命令会更新 remote 索引。</p>
<p>为了演示拥有多个远程分支（在不同的远程服务器上）的项目是如何工作的，我们假设你还有另一个仅供你的敏捷开发小组使用的内部服务器 git.team1.ourcompany.com。可以用第二章中提到的 git remote add 命令把它加为当前项目的远程分支之一。我们把它命名为 teamone，以便代替完整的 Git URL 以方便使用（见图 3-25）。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E6%8A%8A%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8A%A0%E4%B8%BA%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E6%8A%8A%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8A%A0%E4%B8%BA%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93.png" alt="image-20200425194159710"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E6%8A%8A%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8A%A0%E4%B8%BA%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93.png">image-20200425194159710</a></p>
<p> 图 3-25. 把另一个服务器加为远程仓库</p>
<p>现在你可以用 git fetch teamone 来获取小组服务器上你还没有的数据了。由于当前该服务器上的内容是你 origin 服务器上的子集，Git 不会下载任何数据，而只是简单地创建一个名为 teamone/master 的远程分支，指向 teamone 服务器上 master 分支所在的提交对象 31b8e（见图 3-26）。</p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E4%BD%A0%E5%9C%A8%E6%9C%AC%E5%9C%B0%E6%9C%89%E4%BA%86%E4%B8%80%E4%B8%AA%E6%8C%87%E5%90%91.png"><img src="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E4%BD%A0%E5%9C%A8%E6%9C%AC%E5%9C%B0%E6%9C%89%E4%BA%86%E4%B8%80%E4%B8%AA%E6%8C%87%E5%90%91.png" alt="image-20200425194223404"></a></p>
<p><a href="http://blog.come2rss.xyz/2020/04/25/tools/linux/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/Git-%E5%88%86%E6%94%AF%E8%AF%A6%E8%A7%A3/%E4%BD%A0%E5%9C%A8%E6%9C%AC%E5%9C%B0%E6%9C%89%E4%BA%86%E4%B8%80%E4%B8%AA%E6%8C%87%E5%90%91.png">image-20200425194223404</a></p>
<p>图 3-26. 你在本地有了一个指向 teamone 服务器上 master 分支的索引。</p>
<h4 id="推送本地分支"><a href="#推送本地分支" class="headerlink" title="推送本地分支"></a>推送本地分支</h4><p>要想和其他人分享某个本地分支，你需要把它推送到一个你拥有写权限的远程仓库。你创建的本地分支不会因为你的写入操作而被自动同步到你引入的远程服务器上，你需要明确地执行推送分支的操作。换句话说，对于无意分享的分支，你尽管保留为私人分支好了，而只推送那些协同工作要用到的特性分支。</p>
<p>如果你有个叫 serverfix 的分支需要和他人一起开发，可以运行 <code>git push (远程仓库名) (分支名)</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin serverfix</span><br><span class="line">Counting objects: 20, done.</span><br><span class="line">Compressing objects: 100% (14&#x2F;14), done.</span><br><span class="line">Writing objects: 100% (15&#x2F;15), 1.74 KiB, done.</span><br><span class="line">Total 15 (delta 5), reused 0 (delta 0)</span><br><span class="line">To git@github.com:schacon&#x2F;simplegit.git</span><br><span class="line"> * [new branch]      serverfix -&gt; serverfix</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这里其实走了一点捷径。Git 自动把 serverfix 分支名扩展为</p>
<p>refs/heads/serverfix:refs/heads/serverfix，意为“取出我在本地的 serverfix 分支，推送到远程仓库的 serverfix 分支中去”。我们将在第九章进一步介绍 refs/heads/ 部分的细节，不过一般使用的时候都可以省略它。也可以运行 git push origin serverfix:serverfix 来实现相同的效果，它的意思是“上传我本地的 serverfix 分支到远程仓库中去，仍旧称它为 serverfix 分支”。通过此语法，你可以把本地分支推送到某个命名不同的远程分支：若想把远程分支叫作 awesomebranch，可以用 git push origin serverfix:awesomebranch 来推送数据。</p>
</blockquote>
<p>接下来，当你的协作者再次从服务器上获取数据时，他们将得到一个<strong>新的远程分支</strong> origin/serverfix，并指向服务器上 serverfix 所指向的版本:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch origin</span><br><span class="line">remote: Counting objects: 20, done.</span><br><span class="line">remote: Compressing objects: 100% (14&#x2F;14), done.</span><br><span class="line">remote: Total 15 (delta 5), reused 0 (delta 0)</span><br><span class="line">Unpacking objects: 100% (15&#x2F;15), done.</span><br><span class="line">From git@github.com:schacon&#x2F;simplegit</span><br><span class="line"> * [new branch]      serverfix    -&gt; origin&#x2F;serverfix</span><br></pre></td></tr></table></figure>

<p>值得注意的是，在 fetch 操作下载好新的远程分支之后，你仍然无法在本地编辑该远程仓库中的分支。换句话说，在本例中，你不会有一个新的 serverfix 分支，有的只是一个你无法移动的 origin/serverfix 指针。</p>
<h3 id="合并远程分支或者分化"><a href="#合并远程分支或者分化" class="headerlink" title="合并远程分支或者分化"></a>合并远程分支或者分化</h3><p><strong>如果要把该远程分支的内容合并到当前分支，可以运行 git merge origin/serverfix。如果想要一份自己的 serverfix 来开发，可以在远程分支的基础上分化出一个新的分支来:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b serverfix origin&#x2F;serverfix</span><br><span class="line">Branch serverfix set up to track remote branch refs&#x2F;remotes&#x2F;origin&#x2F;serverfix.</span><br><span class="line">Switched to a new branch &quot;serverfix&quot;</span><br></pre></td></tr></table></figure>

<p>这会切换到新建的 serverfix 本地分支，其内容同远程分支 origin/serverfix 一致，这样你就可以在里面继续开发了。</p>
<h4 id="跟踪远程分支"><a href="#跟踪远程分支" class="headerlink" title="跟踪远程分支"></a>跟踪远程分支</h4><p>从远程分支 checkout 出来的本地分支，称为**跟踪分支(tracking branch)**。跟踪分支是一种和某个远程分支有直接联系的本地分支。在跟踪分支里输入 git push，Git 会自行推断应该向哪个服务器的哪个分支推送数据。同样，在这些分支里运行 git pull 会获取所有远程索引，并把它们的数据都合并到本地分支中来。</p>
<p>在克隆仓库时，Git 通常会自动创建一个名为 master 的分支来跟踪 origin/master。这正是 <code>git push</code> 和 <code>git pull</code> 一开始就能正常工作的原因。当然，你可以随心所欲地设定为其它跟踪分支，比如 origin 上除了 master 之外的其它分支。刚才我们已经看到了这样的一个例子：<code>git checkout -b [分支名] [远程名]/[分支名]</code>。如果你有 1.6.2 以上版本的 Git，还可以用<code>–track</code>选项简化:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout --track origin&#x2F;serverfix</span><br><span class="line">Branch serverfix set up to track remote branch refs&#x2F;remotes&#x2F;origin&#x2F;serverfix.</span><br><span class="line">Switched to a new branch &quot;serverfix&quot;</span><br></pre></td></tr></table></figure>

<p>要为本地分支设定不同于远程分支的名字，只需在第一个版本的命令里换个名字:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b sf origin&#x2F;serverfix</span><br><span class="line">Branch sf set up to track remote branch refs&#x2F;remotes&#x2F;origin&#x2F;serverfix.</span><br><span class="line">Switched to a new branch &quot;sf&quot;</span><br></pre></td></tr></table></figure>

<p>现在你的本地分支 sf 会<strong>自动将推送和抓取数据的位置定位</strong>到 origin/serverfix 了。</p>
<h4 id="删除远程分支"><a href="#删除远程分支" class="headerlink" title="删除远程分支"></a>删除远程分支</h4><p>如果不再需要某个远程分支了，比如搞定了某个特性并把它合并进了远程的 master 分支（或任何其他存放稳定代码的分支），可以用这个非常无厘头的语法来删除它：git push [远程名] :[分支名]。如果想在服务器上删除 serverfix 分支，运行下面的命令:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin :serverfix</span><br><span class="line">To git@github.com:schacon&#x2F;simplegit.git</span><br><span class="line"> - [deleted]         serverfix</span><br></pre></td></tr></table></figure>

<p>咚！服务器上的分支没了。你最好特别留心这一页，因为你一定会用到那个命令，而且你很可能会忘掉它的语法。有种方便记忆这条命令的方法：记住我们不久前见过的 <code>git push [远程名] [本地分支]:[远程分支]</code>语法，如果省略 [本地分支]，那就等于是在说“在这里提取空白然后把它变成[远程分支]”。</p>
<p>经过查阅资料发现，高版本的git也可以这么删除分支。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin --delete Chapater6</span><br></pre></td></tr></table></figure></div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/5/">Previous</a></div><div class="pagination-next"><a href="/page/7/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/5/">5</a></li><li><a class="pagination-link is-current" href="/page/6/">6</a></li><li><a class="pagination-link" href="/page/7/">7</a></li><li><a class="pagination-link" href="/page/8/">8</a></li><li><a class="pagination-link" href="/page/9/">9</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Ove"></figure><p class="title is-size-4 is-block line-height-inherit">Ove</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>宁波</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">90</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">28</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">17</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="知乎" href="https://www.zhihu.com/people/ddd-37-43"><i class="http://static.come2rss.xyz/zhihu.png"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><a class="media-left" href="/2020/08/07/%E5%88%B7%E9%A2%98/LeetCode/15-3sum/"><p class="image is-64x64"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="15 3sum"></p></a><div class="media-content size-small"><p><time dateTime="2020-08-07T06:15:37.000Z">2020-08-07</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/07/%E5%88%B7%E9%A2%98/LeetCode/15-3sum/">15 3sum</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E5%88%B7%E9%A2%98/">刷题</a> / <a class="link-muted" href="/categories/%E5%88%B7%E9%A2%98/LeetCode/">LeetCode</a></p></div></article><article class="media"><a class="media-left" href="/2020/08/07/%E5%88%B7%E9%A2%98/LeetCode/1190-Reverse-Substrings-Between-Each-Pair-of-Parentheses/"><p class="image is-64x64"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="1190. Reverse Substrings Between Each Pair of Parentheses"></p></a><div class="media-content size-small"><p><time dateTime="2020-08-07T06:14:44.000Z">2020-08-07</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/07/%E5%88%B7%E9%A2%98/LeetCode/1190-Reverse-Substrings-Between-Each-Pair-of-Parentheses/">1190. Reverse Substrings Between Each Pair of Parentheses</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E5%88%B7%E9%A2%98/">刷题</a> / <a class="link-muted" href="/categories/%E5%88%B7%E9%A2%98/LeetCode/">LeetCode</a></p></div></article><article class="media"><a class="media-left" href="/2020/08/07/%E5%88%B7%E9%A2%98/%E5%89%91%E6%8C%87offer/%E9%9D%A2%E8%AF%95%E9%A2%98-DP-%E8%B4%AA%E5%BF%83/"><p class="image is-64x64"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="面试题 DP 贪心"></p></a><div class="media-content size-small"><p><time dateTime="2020-08-07T06:14:08.000Z">2020-08-07</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/07/%E5%88%B7%E9%A2%98/%E5%89%91%E6%8C%87offer/%E9%9D%A2%E8%AF%95%E9%A2%98-DP-%E8%B4%AA%E5%BF%83/">面试题 DP 贪心</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E5%88%B7%E9%A2%98/">刷题</a> / <a class="link-muted" href="/categories/%E5%88%B7%E9%A2%98/%E5%89%91%E6%8C%87offer/">剑指offer</a></p></div></article><article class="media"><a class="media-left" href="/2020/08/07/%E5%88%B7%E9%A2%98/LeetCode/786-%E7%AC%AC-K-%E4%B8%AA%E6%9C%80%E5%B0%8F%E7%9A%84%E7%B4%A0%E6%95%B0%E5%88%86%E6%95%B0/"><p class="image is-64x64"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="786. 第 K 个最小的素数分数"></p></a><div class="media-content size-small"><p><time dateTime="2020-08-07T06:13:32.000Z">2020-08-07</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/07/%E5%88%B7%E9%A2%98/LeetCode/786-%E7%AC%AC-K-%E4%B8%AA%E6%9C%80%E5%B0%8F%E7%9A%84%E7%B4%A0%E6%95%B0%E5%88%86%E6%95%B0/">786. 第 K 个最小的素数分数</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E5%88%B7%E9%A2%98/">刷题</a> / <a class="link-muted" href="/categories/%E5%88%B7%E9%A2%98/LeetCode/">LeetCode</a></p></div></article><article class="media"><a class="media-left" href="/2020/08/07/%E5%88%B7%E9%A2%98/LeetCode/1025-%E9%99%A4%E6%95%B0%E5%8D%9A%E5%BC%88/"><p class="image is-64x64"><img class="thumbnail" src="http://static.come2rss.xyz/尼尔机械.jpg" alt="1025 除数博弈"></p></a><div class="media-content size-small"><p><time dateTime="2020-08-07T06:13:01.000Z">2020-08-07</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/07/%E5%88%B7%E9%A2%98/LeetCode/1025-%E9%99%A4%E6%95%B0%E5%8D%9A%E5%BC%88/">1025 除数博弈</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E5%88%B7%E9%A2%98/">刷题</a> / <a class="link-muted" href="/categories/%E5%88%B7%E9%A2%98/LeetCode/">LeetCode</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">90</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/AI/DL/"><span class="level-start"><span class="level-item">DL</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/CS/"><span class="level-start"><span class="level-item">CS</span></span><span class="level-end"><span class="level-item tag">20</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/CS/Algorithms/"><span class="level-start"><span class="level-item">Algorithms</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CS/CN/"><span class="level-start"><span class="level-item">CN</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CS/CSAPP/"><span class="level-start"><span class="level-item">CSAPP</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CS/DB/"><span class="level-start"><span class="level-item">DB</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CS/DS/"><span class="level-start"><span class="level-item">DS</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Code-tools/"><span class="level-start"><span class="level-item">Code tools</span></span><span class="level-end"><span class="level-item tag">24</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Code-tools/Anki/"><span class="level-start"><span class="level-item">Anki</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Code-tools/Blog/"><span class="level-start"><span class="level-item">Blog</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Code-tools/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Code-tools/Git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Code-tools/Jupyter/"><span class="level-start"><span class="level-item">Jupyter</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Code-tools/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Code-tools/Matlab/"><span class="level-start"><span class="level-item">Matlab</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Code-tools/Pycharm/"><span class="level-start"><span class="level-item">Pycharm</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Code-tools/VScode/"><span class="level-start"><span class="level-item">VScode</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Code-tools/Windows/"><span class="level-start"><span class="level-item">Windows</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Language/"><span class="level-start"><span class="level-item">Language</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Language/C/"><span class="level-start"><span class="level-item">C++</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Language/Go/"><span class="level-start"><span class="level-item">Go</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Language/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Language/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%88%B7%E9%A2%98/"><span class="level-start"><span class="level-item">刷题</span></span><span class="level-end"><span class="level-item tag">31</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/%E5%88%B7%E9%A2%98/LeetCode/"><span class="level-start"><span class="level-item">LeetCode</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%88%B7%E9%A2%98/PAT/"><span class="level-start"><span class="level-item">PAT</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%88%B7%E9%A2%98/%E5%89%91%E6%8C%87offer/"><span class="level-start"><span class="level-item">剑指offer</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li></ul></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="http://static.come2rss.xyz/%E9%92%A2%E9%93%81%E4%BE%A0.png" alt="Hexo" height="28"></a><p class="size-small"><span>&copy; 2020 John Doe</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://yoursite.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>