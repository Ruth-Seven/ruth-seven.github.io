---
title: 面经 题目C++list
thumbnail: 'http://static.come2rss.xyz/尼尔机械.jpg'
toc: true
top: 10
date: 2021-03-14 16:01:42
tags:
categories:
---





[toc]

# 面经 题目C++list

<!-- more -->



# C++



## 面对对象

c++的特性； 

- [ ] 面向对象特点，什么是多态

- [ ] 面向对象六大基本原则

## lambda

给了一个函数将其写成lambda表达式，捕获列表中&和=有什么区别，默认是什么捕获。

.lambda表达式，它应用表达式外变量的方式和区别  



## 基本类型

- [ ] int类型占多少字节？
- [ ] 一个字节的int能表示多少个数？
- [ ] 最大的2^8怎么表示？全为1换算后为多少？
- [ ] 有符号的范围是多少？-128怎么来的？
- [ ] -1怎么表示？

- [ ] 怎么判断一个浮点数为0？
- [ ] 判断区间怎么来的？
- [ ] 怎么判断浮点数 0.1

## 类型

  定义一个宏表示一年有多少毫秒，怎么定义？ 

>  		\#define MS_OF_YEAR (365*24*60*60*1000)UL

dynamic_cast与static_cast区别 

static关键字的作用；Static的使用、全局变量声明static和不声明static的区别；

 C++ static 修饰可以修饰构造函数？ 

 statci成员函数 

C++ 四种强制转换,static_cast和dynamic_cast分别是什么时候转的（编译、运行） 

 Static的静态函数和普通函数的区别、在类里面的区别

- [ ] 

- [ ] [extern “C”，为什么会用C语言的方式编译](https://zhuanlan.zhihu.com/p/123269132)


讲一下inline。 

说一下auto关键字的优缺点。 

  Const修饰词 

**sizeof是实现原理，是需要函数支持呢，还是操作系统支持** 
sizeof的结果是在哪个阶段确定的 
**让你实现sizeof的话怎么实现呢** 

dynamic_cast的用法，无法转换时会出现什么情况（指针返会NULL，引用抛异常）

extern 作用，为什么要extern C，extern变量在哪个数据段



- [ ] [类的构造函数、析构函数可不可以是虚函数，为什么](https://blog.csdn.net/dongyanxia1000/article/details/80419516#:~:text=%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93%E5%B0%B1%E6%98%AF%EF%BC%9A%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0,%E6%AD%A4%E6%97%B6vptr%E8%BF%98...)*


## 类

  字节对齐问题（结构体，char,short,float,char） 

 class A是一个空类，它里面有什么方法 ？ 移动拷贝和移动赋值，讲讲 

C++11里面构造函数有几种

 多态的形式 

虚函数、虚表、虚指针 

 虚函数实现机制 

 父类的析构函数是否应该是虚函数，为什么 

.析构函数能不能调用虚函数

多态原理；静态多态和动态多态

深浅拷贝

虚指针创建的时机。

**智能指针shared_ptr的数据成员。对引用计数的修改是否要考虑线程安全？**

构造函数中调用虚函数会怎么样

  定义一个空的类里面会有什么？ 

构造和析构需要注意什么

 重载与override（重写）区别。（返回值，参数一个可以不同，一个必须相同） ；overload 、override、overwrite 之间的区别？

写一个shared_ptr循环引用的例子；

  结构体和类的有什么去接，struct？提示：类成员区别、继承区别 

对象的什么函数不能被声明为虚函数（构造函数，内联函数inline，静态函数） 

常规的虚函数底层实现. 

**右值引用为什么会提高效率** 

虚函数可以是内联函数吗（inline和virtual一起用）

[c++]()三种继承

交叉继承（虚继承）  

类(class)、结构体（struct）和联合（union）的区别

运行时多态和编译时多态  

C++的析构函数的触发机制和调用事项是否了解？

**如何理解继承和多继承？** 

虚函数表确定时期（编译期） 为什么在虚函数表在编译期确定**，如果在运行时确定会怎样** 

声明Base对象用Derive对象赋值，会发生什么 

空类会默认生成哪些（构造，析构，拷贝，operator=），面试官说还有其他的，想不到了

虚函数和纯虚函数？虚函数可以内联吗？没有被继承的类有虚函数可以内联吗（说了不可以，但是面试官说可以）？

虚函数类的内存分布

说说虚函数，虚函数表存放在哪里

## 底层

5.什么是内存泄露，有什么危害；内存泄漏和内存溢出的区别，有什么联系**  



了解TS指令吗

栈溢出



线程的栈你觉得放哪（我答可能是进程的栈或堆栈中间的部分）

栈里除了局部变量还会存什么

什么情况下CPU会达到100%

C++内存管理，简要说明C++的内存分区 

**调用dll的过程细节**

**.怎么判断机子是32位或者64位,直接手撸一个函数**

内存碎片怎么处理，用过tcmalloc吗(没听过。。后面查了一下是更适用于多线程的一个malloc库)

**怎么检查内存泄漏**



🔓**全局静态变量在什么阶段初始化。**（我答：运行时吧，因为它放在.bss）

- [ ] 然后就顺理成章问我除了.bss 还有什么段（c++内存分区）

堆和栈哪个存储效率高，为什么？空间哪个大，为什么？

栈和堆区别 ； 操作系统对栈的管理 

函数栈 

内存管理，static作用，在什么位置，**有什么好处**（没答上来），堆和栈为什么不能合并？

**内存泄露相关问题， Valgrind 这类工具是怎么实现的；**



字节对齐的原理

什么情况下读两次？为什么读两次？

- [ ] **堆的底层了解吗**
- [ ] 堆跟栈分别存什么？为什么C#有垃圾回收机制，C++没有垃圾回收机制?

垃圾回收的原理到底是什么?（我打扫描堆上变量是否被使用，处于激活状态之类的）那怎么判断它是不是处于激活状态呢？具体的原理是什么？

只在栈上生成对象和只能在堆上生成对象。

[怎么判断大小端；](https://blog.csdn.net/fuxingwe/article/details/8736262) [大小端知识点]()

- [ ] C++内存分配和C语言内存分配，**malloc底层实现；**

- [ ] malloc申请8KB空间，是否连续？ 

## 编译

程序编译四个过程，预编译做哪些工作？词法分析语义分析在哪个阶段？

静态链接与动态链接； 

c++静态编译和动态编译具体实现机制——被问倒了，只知道DLL之类的，乱说了一通 

- [ ] 内联函数和宏的区别
- [ ] 分别在哪个阶段替换
- [ ] 程序编译的阶段

循环展开

链接的过程？主要做了什么？

- [ ] 内联函数原理
- [ ] 内联的规则，不能声明为内联函数的情况

递归函数可以内联吗 不会。

词法检查、语法检查、语义检查，还能再讲的细一点吗？（不能了。。。）

程序从产生到运行的全过程；。

## 指针和引用

指针和引用的区别 ；指针和引用的区别，一般什么情况下分别使用？[指针与引用，引用底层实现](https://zhuanlan.zhihu.com/p/89175296)

C++引用和指针的区别，引用能否为空 

 2.decltype的作用，他和auto有什么不同 

.什么是野指针，有什么危害，

 shared_ptr是线程安全的吗，为什么 

shared_pointer的实现方式 

为什么用make_shared而不直接使用new。 

现在为什么用shared_ptr而不用auto_ptr。

 weak_ptr使用场景，为什么会需要weak_ptr。  

 都用过哪些智能指针，shared_ptr与unique_ptr有啥区别 

智能指针（解决循环引用的问题）； 

智能指针 要注意的地方 

 class A类型的指针，此时通过dynamic_cast转换为class B类型的指针，会出现什么问题，是否能通过编译，或者是否能运行（说是不能，但是编译错误还是运行错误不确定） 

函数指针
指针和数组的区别 

char*和char[]的区别

malloc和new的区别, new失败会返回什么。

New operator和operator new 的区别； 

 **malloc和内存池的区别** 

指针大小 

上个问题我提到了C++智能指针和引用计数，于是问了下这种方式有没有缺陷

weak_ptr会不会出现野指针的问题，因

**解释解释智能指针的异同和应用场景，顺便现场手撕auto_ptr**



**一般给一个指针开辟空间后需要主动释放内存，如果已知一个对象的生命周期很短，如何写一个工具类能够帮助释放内存？** 

 new 数组，delete没有写方括号，会出现什么情况？

 delete 和delete[]的区别 



数组指针和指针数组

指针常量和常量指针

函数指针

## char *

  有没有用过strcpy，memcpy，memomve，区别是什么？ 



## 标准库

map是用来干啥的，底层数据结构是啥 

 array 和 vector区别 

 STL用过吧，讲讲都用过啥 

 vector动态扩容讲讲 

 resize()与reserve()区别 

 我现在循环往一个vector里面插入10000个数据，一次插入一个，怎么高效，用resize()还是reserve()，为什么 

 迭代器什么时候会失效，哪些容器什么情况下会失效 

 map迭代器会失效吗，为什么 

vector有大小限制吗 

用过哪些STL？vector和普通的数组分别有什么优势和劣势？如果已知数据的大致大小（比如200个int），同时还想用vector，如何避免使用过程中扩容的开销？ 

vector和list比较 

vector list set的区别

 pop back不返回值的原因 

 C++的容器各自优缺点 

 stl那些底层如和实现的你知道吗？ （vector，deque，map，unorder_map全讲一遍，后两个的优缺点） set底层 

Map底层实现，map和avl相比的优点

**vector clear的实现原理**

迭代器什么时候会失效

dequeue是怎样的数据结构？ 

 Stack是怎样的数据结构？ 

 Priority_queue是怎样的数据结构？ 

- [ ] 

- [ ] vector扩容在C++11里有什么不同——用了右值拷贝

## 多线程



 写过多线程程序吧，讲讲线程间同步的方法吧 

有哪几种锁 

++i线程安全吗，为什么

 volatile，给出不能原子性场景 





**多线程编程，coredump怎么debug**

多进程可以监听同一个端口吗？会出现什么问题（惊群）？怎么解决？多线程可以监听同一个端口吗（可以）？

**多线程编程时怎么避免死锁？**

**你觉得多线程编程比较难的问题？（面试官补充了，多线程间任务不要交叉，架构要合理）**

**协程的理解？协程编程**的注意事项？协程里面想要实现sleep怎么做？

volatile关键字的作用

## 异常

**关于C++的异常机制，具体搞忘了，反正没答出来；** 



## 其他

.[c++]()对象模型是是什么

命名空间

GDB

  Python和C++的区别 

  C++和python的内存管理说说吧 

 **C++里的用到设计模式**

**Stl：stl里面栈的实现，用了什么设计模式官方名称**

说一下[c++]()的编译过程 

 **异步日志怎么做的？**



C和C++的区别 

对于[游戏]()开发，C++哪里用的多？  （底层、自研引擎、unity的库等） 

 C语言如何实现面向对象

C++作为面向对象语言，如果理解面向对象的？（针对回答）从某中意义上讲，底层都是指令集，为什么C++能够面向对象而C不行？

（那么C与C++本质是有区别还是无区别的呢？）（针对回答提到封装）如果完全用C进行语言封装，是否能够达到C++的面向对 象的效果

gdb怎么调试一个正在运行中的进程？ 

了解printf的可变参数是怎么实现的吗，从汇编层面解释一下（卒，不懂汇编）

使用过__stdcall吗？

编译器可能对代码做哪些优化（指令重排，CPU流水线）

C++11和GNU11的区别吗？

编译器怎么删除不会执行到的无用代码段

 **++i和i++的编译，一步步说** 

C++怎么切换版本？

.C++20有什么新东西

- [ ] 怎么在main函数之前和之后执行代码；

## 作用域



作用域概念

## 函数调用

C++函数的调用约定？

重载怎么实现的——函数签名 



函数调用过程

## 内存对齐





.为什么要内存对齐，内存对齐的规则 

计算结构体大小

**program pack之后结构体的大小，这个指令有什么好处，用在什么地方，有什么坏处** 