---
title: 76. Minimum Window Substring
thumbnail: 'http://static.come2rss.xyz/é»‘è‰²å¹½é»˜.jpg'
toc: true
top: 10
tags:
categories:
date: 2020-10-23 10:48:10
---




## [76. Minimum Window Substring](https://leetcode-cn.com/problems/minimum-window-substring/)



## æ€è·¯1:

ç»å…¸åŒæŒ‡é’ˆä¸‹çš„æ»‘åŠ¨çª—å£ç®—æ³•ã€‚æ»‘åŠ¨çª—å£çš„å·¦å³éƒ¨åˆ†åˆ†åˆ«ç”±ä¸¤ä¸ªæŒ‡é’ˆ`l`,`r`æŒ‡å‘ã€‚

<!-- more -->

ä½¿ç”¨æ»‘åŠ¨çª—å£è§‚å¯Ÿå¯èƒ½ç¬¦å·çš„æ¡ä»¶çš„å­ä¸²ï¼Œå¹¶ç”¨`unordered_map`æˆ–è€…`map`æ¥è®°å½•åŸå­—ç¬¦ä¸²`s`å’Œæ»‘åŠ¨çª—å£`win`ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚

å…¶ç®—æ³•è¿‡ç¨‹å¦‚ä¸‹ï¼š

1. çª—å£çš„å³æŒ‡é’ˆå‘å³æ»‘åŠ¨ä¸€æ¬¡ï¼Œå¹¶æ£€æŸ¥çª—å£å†…æ˜¯å¦æœ‰è¶³å¤Ÿå…ƒç´ ã€‚è‹¥æ˜¯ï¼Œåˆ™å·¦æŒ‡é’ˆå‘å³æ”¶ç¼©çª—å£ã€‚é‡å¤ä¸Šè¿°æ­¥éª¤å³å¯ã€‚

## ä»£ç ï¼š

```c++

class Solution {
public:

    map<char, int> cur, ori;
    //ä¼˜åŒ–: å»é™¤æ— æ•ˆå­—ç¬¦
    int ahash[800] = {0};
    bool check(){
        for(const auto &p : ori){
            if(cur[p.first] < p.second)
                return false;                
        }
        return true;
    }
    string minWindow(string s, string t) {
        for(int i = 0; i < t.size(); ++i){
            ++ori[t[i]];
            ahash[t[i]] = 1;
        }
        int l = 0, r = -1, maxLen = 0x7fffffff;
        string ans = "" ;
        
        while(r < int(s.size())){            
            while(++r < s.size() && !ahash[s[r]]);
            if(r == s.size()) break;
            ++cur[s[r]];
            
            // cout << l << ' ' << r << endl;
            while(check() && l <= r){                
                if(maxLen > r - l + 1){
                    ans = s.substr(l, r - l + 1);
                    maxLen = r - l + 1;
                }
                //å…ˆå‡å†ç§»åŠ¨â€¦â€¦è¿™ä¸ªbug
                --cur[s[l]];   
                while(++l <= r && !ahash[s[l]]);
                    
            }
        } 
        return ans;
    }
};
```



## æ€è·¯2ï¼š

æ›´å·§å¦™çš„æ–¹æ³•ï¼š

éŸ³é‡æ¨¡æ‹Ÿï¼šæƒ³è±¡ä¸€æ’éŸ³é‡ï¼Œåˆ†åˆ«ä»£è¡¨ç€æ¯ä¸ªtä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚



![éŸ³é‡å›¾å›¾ç‰‡å¤§å…¨_ucä»Šæ—¥å¤´æ¡æ–°é—»ç½‘](D:\Blogfile\pic\76-Minimum-Window-Substring\images)

åœ¨æ»‘åŠ¨çª—å£å‘`r`æŒ‡é’ˆåœ¨`t`å‘å³æ‰©å±•çª—å£ä¸­ï¼Œ æ¯é‡åˆ°ä¸€ä¸ª`s`ä¸­çš„å…ƒç´ å°±å‡å»å¯¹åº”çš„éŸ³é‡å€¼ã€‚å¦‚æœæ»‘åŠ¨çª—å£ä¸­åŒ…å«äº†`s`ä¸­çš„å„ä¸ªå…ƒç´ ï¼ˆåŒ…æ‹¬ç§ç±»å’Œæ•°é‡ï¼‰ï¼Œé‚£ä¹ˆå°±æœ‰éŸ³é‡å›¾çš„æ¯ä¸ªæŸ±å­éƒ½åœ¨æ°´å¹³ä¸‹ä»¥ä¸‹æˆ–è€…æŒå¹³ï¼Œå¦‚æœæˆ‘ä»¬è®°å½•åœ¨æ°´å¹³çº¿ä¹‹ä¸Šçš„æ•°å€¼å˜åŠ¨â€”â€”ç”¨`cnt`è®°å½•`--yin[s[i]] >=0`çš„å‰©ä½™æ¬¡æ•°å³å¯ã€‚

å¦‚æœ`cnt==0`ï¼Œè¯´æ˜çª—å£å·²ç»åŒ…æ‹¬äº†æ‰€æœ‰å…ƒç´ ï¼Œå¯ä»¥ç¼©å°èŒƒå›´ï¼ŒæŠŠå·¦æŒ‡é’ˆå‘ğŸ‘‰å³æ»‘åŠ¨ã€‚`cnt`çš„å˜åŠ¨ä¹Ÿæ˜¯åŒç†çš„ã€‚

ä»£ç å¦‚ä¸‹ï¼š

## ä»£ç 2ï¼š

```c++
class Solution {
public:

    // éŸ³é‡æ¨¡æ‹Ÿ
    unordered_map<char, int> map;
    string minWindow(string s, string t){
        for(int i = 0; i < t.size(); ++i) ++map[t[i]];
        int cnt = t.size(), l = 0, r = -1, start = l, maxl = s.size() + 1;
        while(r < int(s.size())){
            if(--map[s[++r]] >= 0) --cnt;
            // cout << l << ' ' << r << ' ' << cnt << endl;
            while(l <= r && cnt == 0){
                if(maxl > r - l + 1){
                    start = l;
                    maxl = r - l + 1;
                }
                if(++map[s[l]] > 0) cnt++;
                l++;  
            }
        }
          return maxl == s.size() + 1 ? "" : s.substr(start, maxl);
    }
};

```



## ä»£ç 3ï¼šï¼ˆäºŒåˆ·ï¼‰



```c++
class Solution {
public: 
    // åŒæŒ‡é’ˆå¿…å®šéƒ½æœç´¢åˆ°æ‰€æœ‰åŒ¹é…ä¸²çš„åŸå› æ˜¯ æ‰€æœ‰ä»¥ gä¸ºç»ˆç‚¹çš„ç¬¦åˆé¢˜æ„çš„çš„å­—ç¬¦ä¸²s1ï¼Œ
    // å…¶å·¦ç«¯ç‚¹å¿…å®šå¯ä»¥å‘å·¦ç§»åŠ¨ï¼Œå› ä¸ºç§»åŠ¨ä¼šåŒ…å«åˆ°æ›´å¤šå­—ç¬¦ä¸²
    // åè¿‡æ¥æƒ³ï¼Œä»èµ·ç‚¹å‡ºå‘ï¼Œå³ç«¯ç‚¹ç§»åŠ¨å…ˆå°½å¯èƒ½åŒ…å«å¤šç›´åˆ°è¶³å¤Ÿçš„å­—ç¬¦ï¼Œ
    // å†å‘å³ç§»åŠ¨å·¦ç«¯ç‚¹å°½å¯èƒ½å‡å°‘å¤šä½™çš„å­—ç¬¦ï¼Œè·å–ä¸€ä¸ªå°½å¯èƒ½çŸ­çš„å­—ç¬¦ä¸²
    // ä¸ºäº†å°è¯•å…¶ä»–ç»“æœï¼Œä¸æ–­åœ°è¿›è¡Œä»¥ä¸‹æ´»åŠ¨
    //  ç§»åŠ¨å³ç«¯ç‚¹ä¸€æ¬¡ï¼Œç¼©çŸ­å·¦ç«¯ç‚¹ï¼Œå¯ä»¥æœç´¢åˆ°å…¶ä»–ç»“æœ
    
    // æ¯”è¾ƒç»†èŠ‚çš„æ˜¯æ§åˆ¶è¿‡ç¨‹å’Œå¾ªç¯ç»“æŸ
    // 
    string minWindow(string s, string t) {
        int ct[256] = {0}, allct = t.size();
        string ans; 
        // s += 'A';
        for(int i = 0; i < t.size(); ++i) ++ct[t[i]];
        int p1 = 0, p2 = 0; // [)å·¦é—­å³å¼€ç©ºé—´ï¼Œç§’åœ¨ä¸éœ€è¦åˆå§‹åŒ–
        int minlen = s.size() + 1, minp1 = 0;
        while(p2 < s.size()){
            // è¦ä¹ˆå³ç§»p2ç›´åˆ°tå­—ç¬¦ä¸²å…¨éƒ¨è¢«å›Šæ‹¬ï¼Œè¦ä¹ˆè¯•æ¢æ€§ç§»åŠ¨p2ä¸€ä¸ªä½ç½®ï¼Œè¿›è¡Œå…¶ä»–ä½ç½®çš„æ¢ç´¢
            while(p2 < s.size()){ // p2 <= s.size()
                if(ct[s[p2]] > 0) --allct; // allctç»Ÿè®¡æ˜¯å¦å½“å‰[p1, p2)æ˜¯å¦æœ‰tçš„å…¨éƒ¨å­—ç¬¦
                --ct[s[p2]]; // æ›´æ–°å­—ç¬¦æ•°é‡
                ++p2;
                if(allct == 0) break; //å‰è¿›ä¸€æ­¥
            }
            while(ct[s[p1]] < 0){ // å¦‚æœè¯¥å­—ç¬¦å¤šä½™äº†ï¼Œç¼©å°å·¦ç«¯ç‚¹
                ++ct[s[p1]];
                ++p1;
            }
            if(allct == 0 && p2 - p1 < minlen){
                minp1 = p1;                
                minlen = p2 - p1;
            } 
            // cout << p1 << ' ' << p2 << ' ' <<  allct << endl;
        }
        if(minlen > s.size())ans = "";
        else ans = s.substr(minp1, minlen);
        return ans;
    }
};
```

